!function(e,n){"use strict";function t(e){for(var n=Object.create(null),t=0;t<e.length;++t)n[e[t]]=!0;return n}function r(e){return e.split("")}function i(e,n){return n.indexOf(e)>=0}function o(e,n){for(var t=0,r=n.length;t<r;++t)if(e(n[t]))return n[t]}function a(e,n){if(n<=0)return"";if(1==n)return e;var t=a(e,n>>1);return t+=t,1&n&&(t+=e),t}function s(e){Object.defineProperty(e.prototype,"stack",{get:function(){var e=new Error(this.message);e.name=this.name;try{throw e}catch(e){return e.stack}}})}function u(e,n){this.message=e,this.defs=n}function c(e,n,t){!0===e&&(e={});var r=e||{};if(t)for(var i in r)E(r,i)&&!E(n,i)&&u.croak("`"+i+"` is not a supported option",n);for(var i in n)E(n,i)&&(r[i]=e&&E(e,i)?e[i]:n[i]);return r}function f(e,n){var t=0;for(var r in n)E(n,r)&&(e[r]=n[r],t++);return t}function l(){}function p(){return!1}function d(){return!0}function h(){return this}function v(){return null}function _(e,n){e.indexOf(n)<0&&e.push(n)}function m(e,n){return e.replace(/\{(.+?)\}/g,function(e,t){return n&&n[t]})}function g(e,n){for(var t=e.length;--t>=0;)e[t]===n&&e.splice(t,1)}function b(e,n){function t(e,t){for(var r=[],i=0,o=0,a=0;i<e.length&&o<t.length;)n(e[i],t[o])<=0?r[a++]=e[i++]:r[a++]=t[o++];return i<e.length&&r.push.apply(r,e.slice(i)),o<t.length&&r.push.apply(r,t.slice(o)),r}function r(e){if(e.length<=1)return e;var n=Math.floor(e.length/2),i=e.slice(0,n),o=e.slice(n);return i=r(i),o=r(o),t(i,o)}return e.length<2?e.slice():r(e)}function y(e){function n(e){return JSON.stringify(e).replace(/[\u2028\u2029]/g,function(e){switch(e){case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}return e})}function t(e){if(1==e.length)return r+="return str === "+n(e[0])+";";r+="switch(str){";for(var t=0;t<e.length;++t)r+="case "+n(e[t])+":";r+="return true}return false;"}e instanceof Array||(e=e.split(" "));var r="",i=[];e:for(var o=0;o<e.length;++o){for(var a=0;a<i.length;++a)if(i[a][0].length==e[o].length){i[a].push(e[o]);continue e}i.push([e[o]])}if(i.length>3){i.sort(function(e,n){return n.length-e.length}),r+="switch(str.length){";for(var o=0;o<i.length;++o){var s=i[o];r+="case "+s[0].length+":",t(s)}r+="}"}else t(e);return new Function("str",r)}function w(e,n){for(var t=e.length;--t>=0;)if(!n(e[t]))return!1;return!0}function A(){this._values=Object.create(null),this._size=0}function E(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function x(e){for(var n,t=e.parent(-1),r=0;n=e.parent(r);r++){if(n instanceof ne&&n.body===t)return!0;if(!(n instanceof Le&&n.car===t||n instanceof Ie&&n.expression===t&&!(n instanceof Ue)||n instanceof Ye&&n.expression===t||n instanceof We&&n.expression===t||n instanceof Ke&&n.condition===t||n instanceof Ze&&n.left===t||n instanceof Xe&&n.expression===t))return!1;t=n}}function D(n,t,r,i){arguments.length<4&&(i=ee),t=t?t.split(/\s+/):[];var o=t;i&&i.PROPS&&(t=t.concat(i.PROPS));for(var a="return function AST_"+n+"(props){ if (props) { ",s=t.length;--s>=0;)a+="this."+t[s]+" = props."+t[s]+";";var u=i&&new i;(u&&u.initialize||r&&r.initialize)&&(a+="this.initialize();"),a+="}}";var c=new Function(a)();if(u&&(c.prototype=u,c.BASE=i),i&&i.SUBCLASSES.push(c),c.prototype.CTOR=c,c.PROPS=t||null,c.SELF_PROPS=o,c.SUBCLASSES=[],n&&(c.prototype.TYPE=c.TYPE=n),r)for(s in r)E(r,s)&&(/^\$/.test(s)?c[s.substr(1)]=r[s]:c.prototype[s]=r[s]);return c.DEFMETHOD=function(e,n){this.prototype[e]=n},void 0!==e&&(e["AST_"+n]=c),c}function k(e,n){var t=e.body;if(t instanceof ne)t._walk(n);else for(var r=0,i=t.length;r<i;r++)t[r]._walk(n)}function F(e){this.visit=e,this.stack=[],this.directives=Object.create(null)}function C(e){return e>=97&&e<=122||e>=65&&e<=90||e>=170&&Vn.letter.test(String.fromCharCode(e))}function B(e){return e>=48&&e<=57}function S(e){return B(e)||C(e)}function T(e){return Vn.digit.test(String.fromCharCode(e))}function $(e){return Vn.non_spacing_mark.test(e)||Vn.space_combining_mark.test(e)}function O(e){return Vn.connector_punctuation.test(e)}function q(e){return!zn(e)&&/^[a-z_$][a-z0-9_$]*$/i.test(e)}function z(e){return 36==e||95==e||C(e)}function M(e){var n=e.charCodeAt(0);return z(n)||B(n)||8204==n||8205==n||$(e)||O(e)||T(n)}function H(e){return/^[a-z_$][a-z0-9_$]*$/i.test(e)}function j(e){if(jn.test(e))return parseInt(e.substr(2),16);if(Nn.test(e))return parseInt(e.substr(1),8);var n=parseFloat(e);return n==e?n:void 0}function N(e,n,t,r,i){this.message=e,this.filename=n,this.line=t,this.col=r,this.pos=i}function P(e,n,t,r,i){throw new N(e,n,t,r,i)}function R(e,n,t){return e.type==n&&(null==t||e.value==t)}function I(e,n,t,r){function i(){return F.text.charAt(F.pos)}function o(e,n){var t=F.text.charAt(F.pos++);if(e&&!t)throw Yn;return In(t)?(F.newline_before=F.newline_before||!n,++F.line,F.col=0,n||"\r"!=t||"\n"!=i()||(++F.pos,t="\n")):++F.col,t}function a(e){for(;e-- >0;)o()}function s(e){return F.text.substr(F.pos,e.length)==e}function u(){for(var e=F.text,n=F.pos,t=F.text.length;n<t;++n){var r=e[n];if(In(r))return n}return-1}function c(e,n){var t=F.text.indexOf(e,F.pos);if(n&&-1==t)throw Yn;return t}function f(){F.tokline=F.line,F.tokcol=F.col,F.tokpos=F.pos}function l(t,r,i){F.regex_allowed="operator"==t&&!Jn(r)||"keyword"==t&&Mn(r)||"punc"==t&&Un(r),C="punc"==t&&"."==r;var o={type:t,value:r,line:F.tokline,col:F.tokcol,pos:F.tokpos,endline:F.line,endcol:F.col,endpos:F.pos,nlb:F.newline_before,file:n};if(/^(?:num|string|regexp)$/i.test(t)&&(o.raw=e.substring(o.pos,o.endpos)),!i){o.comments_before=F.comments_before,F.comments_before=[];for(var a=0,s=o.comments_before.length;a<s;a++)o.nlb=o.nlb||o.comments_before[a].nlb}return F.newline_before=!1,new Q(o)}function p(){for(;Rn(i());)o()}function d(e){for(var n,t="",r=0;(n=i())&&e(n,r++);)t+=o();return t}function h(e){P(e,n,F.tokline,F.tokcol,F.tokpos)}function v(e){var n=!1,t=!1,r=!1,i="."==e,o=d(function(o,a){var s=o.charCodeAt(0);switch(s){case 120:case 88:return!r&&(r=!0);case 101:case 69:return!!r||!n&&(n=t=!0);case 45:return t||0==a&&!e;case 43:return t;case t=!1,46:return!(i||r||n)&&(i=!0)}return S(s)});e&&(o=e+o),Nn.test(o)&&k.has_directive("use strict")&&h("Legacy octal literals are not allowed in strict mode");var a=j(o);if(!isNaN(a))return l("num",a);h("Invalid syntax: "+o)}function _(e){var n=o(!0,e);switch(n.charCodeAt(0)){case 110:return"\n";case 114:return"\r";case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 120:return String.fromCharCode(g(2));case 117:return String.fromCharCode(g(4));case 10:return"";case 13:if("\n"==i())return o(!0,e),""}return n>="0"&&n<="7"?m(n):n}function m(e){var n=i();return n>="0"&&n<="7"&&(e+=o(!0),e[0]<="3"&&(n=i())>="0"&&n<="7"&&(e+=o(!0))),"0"===e?"\0":(e.length>0&&k.has_directive("use strict")&&h("Legacy octal escape sequences are not allowed in strict mode"),String.fromCharCode(parseInt(e,8)))}function g(e){for(var n=0;e>0;--e){var t=parseInt(o(!0),16);isNaN(t)&&h("Invalid hex-character pattern in string"),n=n<<4|t}return n}function b(e){var n,t=F.regex_allowed,r=u();return-1==r?(n=F.text.substr(F.pos),F.pos=F.text.length):(n=F.text.substring(F.pos,r),F.pos=r),F.col=F.tokcol+(F.pos-F.tokpos),F.comments_before.push(l(e,n,!0)),F.regex_allowed=t,k}function y(){for(var e,n,t=!1,r="",a=!1;null!=(e=i());)if(t)"u"!=e&&h("Expecting UnicodeEscapeSequence -- uXXXX"),e=_(),M(e)||h("Unicode char: "+e.charCodeAt(0)+" is not valid in identifier"),r+=e,t=!1;else if("\\"==e)a=t=!0,o();else{if(!M(e))break;r+=o()}return On(r)&&a&&(n=r.charCodeAt(0).toString(16).toUpperCase(),r="\\u"+"0000".substr(n.length)+n+r.slice(1)),r}function w(e){function n(e){if(!i())return e;var t=e+i();return Pn(t)?(o(),n(t)):e}return l("operator",n(e||o()))}function A(){switch(o(),i()){case"/":return o(),b("comment1");case"*":return o(),$()}return F.regex_allowed?O(""):w("/")}function E(){return o(),B(i().charCodeAt(0))?v("."):l("punc",".")}function x(){var e=y();return C?l("name",e):qn(e)?l("atom",e):On(e)?Pn(e)?l("operator",e):l("keyword",e):l("name",e)}function D(e,n){return function(t){try{return n(t)}catch(n){if(n!==Yn)throw n;h(e)}}}function k(e){if(null!=e)return O(e);for(r&&0==F.pos&&s("#!")&&(f(),a(2),b("comment5"));;){if(p(),f(),t){if(s("\x3c!--")){a(4),b("comment3");continue}if(s("--\x3e")&&F.newline_before){a(3),b("comment4");continue}}var n=i();if(!n)return l("eof");var u=n.charCodeAt(0);switch(u){case 34:case 39:return T(n);case 46:return E();case 47:var c=A();if(c===k)continue;return c}if(B(u))return v();if(Ln(n))return l("punc",o());if(Hn(n))return w();if(92==u||z(u))return x();break}h("Unexpected character '"+n+"'")}var F={text:e,filename:n,pos:0,tokpos:0,line:1,tokline:0,col:0,tokcol:0,newline_before:!1,regex_allowed:!1,comments_before:[],directives:{},directive_stack:[]},C=!1,T=D("Unterminated string constant",function(e){for(var n=o(),t="";;){var r=o(!0,!0);if("\\"==r)r=_(!0);else if(In(r))h("Unterminated string constant");else if(r==n)break;t+=r}var i=l("string",t);return i.quote=e,i}),$=D("Unterminated multiline comment",function(){var e=F.regex_allowed,n=c("*/",!0),t=F.text.substring(F.pos,n).replace(/\r\n|\r|\u2028|\u2029/g,"\n");return a(t.length+2),F.comments_before.push(l("comment2",t,!0)),F.regex_allowed=e,k}),O=D("Unterminated regular expression",function(e){for(var n,t=!1,r=!1;n=o(!0);)if(In(n))h("Unexpected line terminator");else if(t)e+="\\"+n,t=!1;else if("["==n)r=!0,e+=n;else if("]"==n&&r)r=!1,e+=n;else{if("/"==n&&!r)break;"\\"==n?t=!0:e+=n}var i=y();try{return l("regexp",new RegExp(e,i))}catch(e){h(e.message)}});return k.context=function(e){return e&&(F=e),F},k.add_directive=function(e){F.directive_stack[F.directive_stack.length-1].push(e),void 0===F.directives[e]?F.directives[e]=1:F.directives[e]++},k.push_directives_stack=function(){F.directive_stack.push([])},k.pop_directives_stack=function(){for(var e=F.directive_stack[F.directive_stack.length-1],n=0;n<e.length;n++)F.directives[e[n]]--;F.directive_stack.pop()},k.has_directive=function(e){return void 0!==F.directives[e]&&F.directives[e]>0},k}function U(e,n){function t(e,n){return R(U.token,e,n)}function r(){return U.peeked||(U.peeked=U.input())}function i(){return U.prev=U.token,U.peeked?(U.token=U.peeked,U.peeked=null):U.token=U.input(),U.in_directives=U.in_directives&&("string"==U.token.type||t("punc",";")),U.token}function a(){return U.prev}function s(e,n,t,r){var i=U.input.context();P(e,i.filename,null!=n?n:i.tokline,null!=t?t:i.tokcol,null!=r?r:i.tokpos)}function u(e,n){s(n,e.line,e.col)}function f(e){null==e&&(e=U.token),u(e,"Unexpected token: "+e.type+" ("+e.value+")")}function l(e,n){if(t(e,n))return i();u(U.token,"Unexpected token "+U.token.type+" «"+U.token.value+"», expected "+e+" «"+n+"»")}function p(e){return l("punc",e)}function d(){return!n.strict&&(U.token.nlb||t("eof")||t("punc","}"))}function h(e){t("punc",";")?i():e||d()||f()}function v(){p("(");var e=le(!0);return p(")"),e}function _(e){return function(){var n=U.token,t=e(),r=a();return t.start=n,t.end=r,t}}function m(){(t("operator","/")||t("operator","/="))&&(U.peeked=null,U.token=U.input(U.token.value.substr(1)))}function g(){var e=q(_n);o(function(n){return n.name==e.name},U.labels)&&s("Label "+e.name+" defined twice"),p(":"),U.labels.push(e);var n=L();return U.labels.pop(),n instanceof fe||e.references.forEach(function(n){n instanceof Be&&(n=n.label.start,s("Continue label `"+e.name+"` refers to non-IterationStatement.",n.line,n.col,n.pos))}),new ce({body:n,label:e})}function b(e){return new ie({body:(e=le(!0),h(),e)})}function y(e){var n,t=null;d()||(t=q(gn,!0)),null!=t?(n=o(function(e){return e.name==t.name},U.labels),n||s("Undefined label "+t.name),t.thedef=n):0==U.in_loop&&s(e.TYPE+" not inside a loop or switch"),h();var r=new e({label:t});return n&&n.references.push(r),r}function w(){p("(");var e=null;return!t("punc",";")&&(e=t("keyword","var")?(i(),Y(!0)):le(!0,!0),t("operator","in"))?(e instanceof Ne&&e.definitions.length>1&&s("Only one variable declaration allowed in for..in loop"),i(),E(e)):A(e)}function A(e){p(";");var n=t("punc",";")?null:le(!0);p(";");var r=t("punc",")")?null:le(!0);return p(")"),new he({init:e,condition:n,step:r,body:N(L)})}function E(e){var n=e instanceof Ne?e.definitions[0].name:null,t=le(!0);return p(")"),new ve({init:e,name:n,object:t,body:N(L)})}function x(){var e=v(),n=L(),r=null;return t("keyword","else")&&(i(),r=L()),new Se({condition:e,body:n,alternative:r})}function D(){p("{");for(var e=[];!t("punc","}");)t("eof")&&f(),e.push(L());return i(),e}function k(){p("{");for(var e,n=[],r=null,o=null;!t("punc","}");)t("eof")&&f(),t("keyword","case")?(o&&(o.end=a()),r=[],o=new qe({start:(e=U.token,i(),e),expression:le(!0),body:r}),n.push(o),p(":")):t("keyword","default")?(o&&(o.end=a()),r=[],o=new Oe({start:(e=U.token,i(),p(":"),e),body:r}),n.push(o)):(r||f(),r.push(L()));return o&&(o.end=a()),i(),n}function F(){var e=D(),n=null,r=null;if(t("keyword","catch")){var o=U.token;i(),p("(");var u=q(vn);p(")"),n=new Me({start:o,argname:u,body:D(),end:a()})}if(t("keyword","finally")){var o=U.token;i(),r=new He({start:o,body:D(),end:a()})}return n||r||s("Missing catch/finally blocks"),new ze({body:e,bcatch:n,bfinally:r})}function C(e,n){for(var r=[];r.push(new Re({start:U.token,name:q(n?ln:fn),value:t("operator","=")?(i(),le(!1,e)):null,end:a()})),t("punc",",");)i();return r}function B(){var e,n=U.token;switch(n.type){case"name":case"keyword":e=O(mn);break;case"num":e=new An({start:n,end:n,value:n.value});break;case"string":e=new wn({start:n,end:n,value:n.value,quote:n.quote});break;case"regexp":e=new En({start:n,end:n,value:n.value});break;case"atom":switch(n.value){case"false":e=new Tn({start:n,end:n});break;case"true":e=new $n({start:n,end:n});break;case"null":e=new Dn({start:n,end:n})}break;case"operator":H(n.value)||s("Invalid getter/setter name: "+n.value,n.line,n.col,n.pos),e=O(mn)}return i(),e}function S(e,n,r){for(var o=!0,a=[];!t("punc",e)&&(o?o=!1:p(","),!n||!t("punc",e));)t("punc",",")&&r?a.push(new Cn({start:U.token,end:U.token})):a.push(le(!1));return i(),a}function T(){var e=U.token;switch(i(),e.type){case"num":case"string":case"name":case"operator":case"keyword":case"atom":return e.value;default:f()}}function $(){var e=U.token;switch(i(),e.type){case"name":case"operator":case"keyword":case"atom":return e.value;default:f()}}function O(e){var n=U.token.value;return new("this"==n?bn:e)({name:String(n),start:U.token,end:U.token})}function q(e,n){if(!t("name"))return n||s("Name expected"),null;var r=O(e);return i(),r}function z(e,n,t){return"++"!=n&&"--"!=n||j(t)||s("Invalid use of "+n+" operator",null,e===Ge?t.start.col-1:null),new e({operator:n,expression:t})}function M(e){return ne(ee(!0),0,e)}function j(e){return!!n.cli||(e instanceof Ve||e instanceof mn)}function N(e){++U.in_loop;var n=e();return--U.in_loop,n}n=c(n,{bare_returns:!1,cli:!1,expression:!1,filename:null,html5_comments:!0,shebang:!0,strict:!1,toplevel:null});var U={input:"string"==typeof e?I(e,n.filename,n.html5_comments,n.shebang):e,token:null,prev:null,peeked:null,in_function:0,in_directives:!0,in_loop:0,labels:[]};U.token=i();var L=_(function(){var e;switch(m(),U.token.type){case"string":var o=!1;!0===U.in_directives&&((R(r(),"punc",";")||r().nlb)&&-1===U.token.raw.indexOf("\\")?U.input.add_directive(U.token.value):U.in_directives=!1);var o=U.in_directives,u=b();return o?new re({start:u.body.start,end:u.body.end,quote:u.body.quote,value:u.body.value}):u;case"num":case"regexp":case"operator":case"atom":return b();case"name":return R(r(),"punc",":")?g():b();case"punc":switch(U.token.value){case"{":return new ae({start:U.token,body:D(),end:a()});case"[":case"(":return b();case";":return U.in_directives=!1,i(),new se;default:f()}case"keyword":switch(e=U.token.value,i(),e){case"break":return y(Ce);case"continue":return y(Be);case"debugger":return h(),new te;case"do":return new pe({body:N(L),condition:(l("keyword","while"),e=v(),h(!0),e)});case"while":return new de({condition:v(),body:N(L)});case"for":return w();case"function":return V(Ae);case"if":return x();case"return":return 0!=U.in_function||n.bare_returns||s("'return' outside of function"),new De({value:t("punc",";")?(i(),null):d()?null:(e=le(!0),h(),e)});case"switch":return new Te({expression:v(),body:N(k)});case"throw":return U.token.nlb&&s("Illegal newline after 'throw'"),new ke({value:(e=le(!0),h(),e)});case"try":return F();case"var":return e=Y(),h(),e;case"const":return e=W(),h(),e;case"with":return U.input.has_directive("use strict")&&s("Strict mode may not include a with statement"),new _e({expression:v(),body:L()})}}f()}),V=function(e){var n=e===Ae,r=t("name")?q(n?dn:hn):null;return n&&!r&&f(),p("("),new e({name:r,argnames:function(e,n){for(;!t("punc",")");)e?e=!1:p(","),n.push(q(pn));return i(),n}(!0,[]),body:function(e,n){++U.in_function,U.in_directives=!0,U.input.push_directives_stack(),U.in_loop=0,U.labels=[];var t=D();return U.input.pop_directives_stack(),--U.in_function,U.in_loop=e,U.labels=n,t}(U.in_loop,U.labels)})},Y=function(e){return new Ne({start:a(),definitions:C(e,!1),end:a()})},W=function(){return new Pe({start:a(),definitions:C(!1,!0),end:a()})},J=function(e){var n=U.token;l("operator","new");var r,o=G(!1);return t("punc","(")?(i(),r=S(")")):r=[],Q(new Ue({start:n,expression:o,args:r,end:a()}),e)},G=function(e){if(t("operator","new"))return J(e);var n=U.token;if(t("punc")){switch(n.value){case"(":i();var r=le(!0);return r.start=n,r.end=U.token,p(")"),Q(r,e);case"[":return Q(X(),e);case"{":return Q(K(),e)}f()}if(t("keyword","function")){i();var o=V(we);return o.start=n,o.end=a(),Q(o,e)}if(Zn[U.token.type])return Q(B(),e);f()},X=_(function(){return p("["),new en({elements:S("]",!n.strict,!0)})}),Z=_(function(){return V(ye)}),K=_(function(){p("{");for(var e=!0,r=[];!t("punc","}")&&(e?e=!1:p(","),n.strict||!t("punc","}"));){var o=U.token,s=o.type,u=T();if("name"==s&&!t("punc",":")){if("get"==u){r.push(new an({start:o,key:B(),value:Z(),end:a()}));continue}if("set"==u){r.push(new on({start:o,key:B(),value:Z(),end:a()}));continue}}p(":"),r.push(new rn({start:o,quote:o.quote,key:u,value:le(!1),end:a()}))}return i(),new nn({properties:r})}),Q=function(e,n){var r=e.start;if(t("punc","."))return i(),Q(new Ye({start:r,expression:e,property:$(),end:a()}),n);if(t("punc","[")){i();var o=le(!0);return p("]"),Q(new We({start:r,expression:e,property:o,end:a()}),n)}return n&&t("punc","(")?(i(),Q(new Ie({start:r,expression:e,args:S(")"),end:a()}),!0)):e},ee=function(e){var n=U.token;if(t("operator")&&Wn(n.value)){i(),m();var r=z(Ge,n.value,ee(e));return r.start=n,r.end=a(),r}for(var o=G(e);t("operator")&&Jn(U.token.value)&&!U.token.nlb;)o=z(Xe,U.token.value,o),o.start=n,o.end=U.token,i();return o},ne=function(e,n,r){var o=t("operator")?U.token.value:null;"in"==o&&r&&(o=null);var a=null!=o?Xn[o]:null;if(null!=a&&a>n){i();var s=ne(ee(!0),a,r);return ne(new Ze({start:e.start,left:e,operator:o,right:s,end:s.end}),n,r)}return e},oe=function(e){var n=U.token,r=M(e);if(t("operator","?")){i();var o=le(!1);return p(":"),new Ke({start:n,condition:r,consequent:o,alternative:le(!1,e),end:a()})}return r},ue=function(e){var n=U.token,r=oe(e),o=U.token.value;if(t("operator")&&Gn(o)){if(j(r))return i(),new Qe({start:n,left:r,operator:o,right:ue(e),end:a()});s("Invalid assignment")}return r},le=function(e,n){var o=U.token,a=ue(n);return e&&t("punc",",")?(i(),new Le({start:o,car:a,cdr:le(!0,n),end:r()})):a};return n.expression?le(!0):function(){var e=U.token,r=[];for(U.input.push_directives_stack();!t("eof");)r.push(L());U.input.pop_directives_stack();var i=a(),o=n.toplevel;return o?(o.body=o.body.concat(r),o.end=i):o=new ge({start:e,body:r,end:i}),o}()}function L(e,n){F.call(this),this.before=e,this.after=n}function V(e,n,t){this.name=t.name,this.orig=[t],this.scope=e,this.references=[],this.global=!1,this.mangled_name=null,this.undeclared=!1,this.index=n,this.id=V.next_id++}function Y(e){return"comment2"==e.type&&/@preserve|@license|@cc_on/i.test(e.value)}function W(e){function n(e,n){return e.replace(/[\u0000-\u001f\u007f-\uffff]/g,function(e){var t=e.charCodeAt(0).toString(16);if(t.length<=2&&!n){for(;t.length<2;)t="0"+t;return"\\x"+t}for(;t.length<4;)t="0"+t;return"\\u"+t})}function t(t,r){function i(){return"'"+t.replace(/\x27/g,"\\'")+"'"}function o(){return'"'+t.replace(/\x22/g,'\\"')+'"'}var a=0,s=0;switch(t=t.replace(/[\\\b\f\n\r\v\t\x22\x27\u2028\u2029\0\ufeff]/g,function(n,r){switch(n){case'"':return++a,'"';case"'":return++s,"'";case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\v":return e.screw_ie8?"\\v":"\\x0B";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";case"\ufeff":return"\\ufeff";case"\0":return/[0-7]/.test(t.charAt(r+1))?"\\x00":"\\0"}return n}),e.ascii_only&&(t=n(t)),e.quote_style){case 1:return i();case 2:return o();case 3:return"'"==r?i():o();default:return a>s?i():o()}}function r(n,r){var i=t(n,r);return e.inline_script&&(i=i.replace(/<\x2fscript([>\/\t\n\f\r ])/gi,"<\\/script$1"),i=i.replace(/\x3c!--/g,"\\x3c!--"),i=i.replace(/--\x3e/g,"--\\x3e")),i}function i(t){return t=t.toString(),e.ascii_only&&(t=n(t,!0)),t}function o(n){return a(" ",e.indent_start+D-n*e.indent_level)}function s(){return O.charAt(O.length-1)}function u(n){n=String(n);var t=n.charAt(0);if(T&&(T=!1,t&&!(";}".indexOf(t)<0)||/[;]$/.test(O)||(e.semicolons||z(t)?(B+=";",k++,C++):(q(),B+="\n",C++,F++,k=0,/^\s+$/.test(n)&&(T=!0)),e.beautify||(S=!1))),!e.beautify&&e.preserve_line&&U[U.length-1])for(var r=U[U.length-1].start.line;F<r;)q(),B+="\n",C++,F++,k=0,S=!1;if(S){var i=s();(M(i)&&(M(t)||"\\"==t)||"/"==t&&t==i||("+"==t||"-"==t)&&t==O)&&(B+=" ",k++,C++),S=!1}B+=n,C+=n.length;var o=n.split(/\r?\n/),a=o.length-1;F+=a,k+=o[0].length,a>0&&(q(),k=o[a].length),O=n}function f(){T=!1,u(";")}function h(){return D+e.indent_level}function v(e){var n;return u("{"),P(),N(h(),function(){n=e()}),j(),u("}"),n}function _(e){u("(");var n=e();return u(")"),n}function m(e){u("[");var n=e();return u("]"),n}function g(){u(","),H()}function b(){u(":"),e.space_colon&&H()}function w(){return $&&q(),B}e=c(e,{ascii_only:!1,beautify:!1,bracketize:!1,comments:!1,indent_level:4,indent_start:0,inline_script:!0,keep_quoted_props:!1,max_line_len:!1,preamble:null,preserve_line:!1,quote_keys:!1,quote_style:0,screw_ie8:!0,semicolons:!0,shebang:!0,source_map:null,space_colon:!0,unescape_regexps:!1,width:80,wrap_iife:!1},!0);var A=p;if(e.comments){var E=e.comments;if("string"==typeof e.comments&&/^\/.*\/[a-zA-Z]*$/.test(e.comments)){var x=e.comments.lastIndexOf("/");E=new RegExp(e.comments.substr(1,x-1),e.comments.substr(x+1))}A=E instanceof RegExp?function(e){return"comment5"!=e.type&&E.test(e.value)}:"function"==typeof E?function(e){return"comment5"!=e.type&&E(this,e)}:"some"===E?Y:d}var D=0,k=0,F=1,C=0,B="",S=!1,T=!1,$=0,O=null,q=e.max_line_len?function(){if(k>e.max_line_len){if($){var n=B.slice(0,$),t=B.slice($);B=n+"\n"+t,F++,C++,k=t.length}k>e.max_line_len&&ee.warn("Output exceeds {max_line_len} characters",e)}$=0}:l,z=y("( [ + * / - , ."),H=e.beautify?function(){u(" ")}:function(){S=!0},j=e.beautify?function(n){e.beautify&&u(o(n?.5:0))}:l,N=e.beautify?function(e,n){!0===e&&(e=h());var t=D;D=e;var r=n();return D=t,r}:function(e,n){return n()},P=e.beautify?function(){u("\n")}:e.max_line_len?function(){q(),$=B.length}:l,R=e.beautify?function(){u(";")}:function(){T=!0},I=e.source_map?function(n,t){try{n&&e.source_map.add(n.file||"?",F,k,n.line,n.col,t||"name"!=n.type?t:n.value)}catch(e){ee.warn("Couldn't figure out mapping for {file}:{line},{col} → {cline},{ccol} [{name}]",{file:n.file,line:n.line,col:n.col,cline:F,ccol:k,name:t||""})}}:l,U=[];return{get:w,toString:w,indent:j,indentation:function(){return D},current_width:function(){return k-D},should_break:function(){return e.width&&this.current_width()>=e.width},newline:P,print:u,space:H,comma:g,colon:b,last:function(){return O},semicolon:R,force_semicolon:f,to_ascii:n,print_name:function(e){u(i(e))},print_string:function(e,n,t){var i=r(e,n);!0===t&&-1===i.indexOf("\\")&&(Qn.test(B)||f(),f()),u(i)},encode_string:r,next_indent:h,with_indent:N,with_block:v,with_parens:_,with_square:m,add_mapping:I,option:function(n){return e[n]},comment_filter:A,line:function(){return F},col:function(){return k},pos:function(){return C},push_node:function(e){U.push(e)},pop_node:function(){return U.pop()},parent:function(e){return U[U.length-2-(e||0)]}}}function J(e,n){if(!(this instanceof J))return new J(e,n);L.call(this,this.before,this.after),this.options=c(e,{angular:!1,booleans:!n,cascade:!n,collapse_vars:!n,comparisons:!n,conditionals:!n,dead_code:!n,drop_console:!1,drop_debugger:!n,evaluate:!n,expression:!1,global_defs:{},hoist_funs:!n,hoist_vars:!1,if_return:!n,join_vars:!n,keep_fargs:!0,keep_fnames:!1,keep_infinity:!1,loops:!n,negate_iife:!n,passes:1,properties:!n,pure_getters:!n&&"strict",pure_funcs:null,reduce_vars:!n,screw_ie8:!0,sequences:!n,side_effects:!n,switches:!n,top_retain:null,toplevel:!(!e||!e.top_retain),unsafe:!1,unsafe_comps:!1,unsafe_math:!1,unsafe_proto:!1,unused:!n,warnings:!0},!0);var t=this.options.pure_funcs;this.pure_funcs="function"==typeof t?t:t?function(e){return t.indexOf(e.expression.print_to_string())<0}:d;var r=this.options.top_retain;r instanceof RegExp?this.top_retain=function(e){return r.test(e.name)}:"function"==typeof r?this.top_retain=r:r&&("string"==typeof r&&(r=r.split(/,/)),this.top_retain=function(e){return r.indexOf(e.name)>=0});var i=this.options.sequences;this.sequences_limit=1==i?200:0|i,this.warnings_produced={}}function G(e){function n(n,i,o,a,s,u){if(r){var c=r.originalPositionFor({line:a,column:s});if(null===c.source)return;n=c.source,a=c.line,s=c.column,u=c.name||u}t.addMapping({generated:{line:i+e.dest_line_diff,column:o},original:{line:a+e.orig_line_diff,column:s},source:n,name:u})}e=c(e,{file:null,root:null,orig:null,orig_line_diff:0,dest_line_diff:0});var t=new MOZ_SourceMap.SourceMapGenerator({file:e.file,sourceRoot:e.root}),r=e.orig&&new MOZ_SourceMap.SourceMapConsumer(e.orig);return r&&Array.isArray(e.orig.sources)&&r._sources.toArray().forEach(function(e){var n=r.sourceContentFor(e,!0);n&&t.setSourceContent(e,n)}),{add:n,get:function(){return t},toString:function(){return JSON.stringify(t.toJSON())}}}function X(){function e(e){_(n,e)}var n=["null","true","false","Infinity","-Infinity","undefined"];return[Object,Array,Function,Number,String,Boolean,Error,Math,Date,RegExp].forEach(function(n){Object.getOwnPropertyNames(n).map(e),n.prototype&&Object.getOwnPropertyNames(n.prototype).map(e)}),n}function Z(e,n){function t(e){return!(m.indexOf(e)>=0)&&(!(u.indexOf(e)>=0)&&(n.only_cache?f.props.has(e):!/^-?[0-9]+(\.[0-9]+)?(e[+-][0-9]+)?$/.test(e)))}function r(e){return!(d&&e in g)&&(!(p&&!p.test(e))&&(!(u.indexOf(e)>=0)&&(f.props.has(e)||v.indexOf(e)>=0)))}function i(e,n){if(n)return void(g[e]=!0);t(e)&&_(v,e),r(e)||_(m,e)}function o(e){if(!r(e))return e;var n=f.props.get(e);if(!n){if(h){var i="_$"+e+"$"+l+"_";!t(i)||d&&i in g||(n=i)}if(!n)do{n=Kn(++f.cname)}while(!t(n)||d&&n in g);f.props.set(e,n)}return n}function a(e,n){var t={};try{!function e(r){r.walk(new F(function(r){if(r instanceof Le)return e(r.cdr),!0;if(r instanceof wn)return i(r.value,n),!0;if(r instanceof Ke)return e(r.consequent),e(r.alternative),!0;throw t}))}(e)}catch(e){if(e!==t)throw e}}function s(e){return e.transform(new L(function(e){return e instanceof Le?e.cdr=s(e.cdr):e instanceof wn?e.value=o(e.value):e instanceof Ke&&(e.consequent=s(e.consequent),e.alternative=s(e.alternative)),e}))}n=c(n,{cache:null,debug:!1,ignore_quoted:!1,only_cache:!1,regex:null,reserved:null});var u=n.reserved;null==u&&(u=X());var f=n.cache;null==f&&(f={cname:-1,props:new A});var l,p=n.regex,d=n.ignore_quoted,h=!1!==n.debug;h&&(l=!0===n.debug?"":n.debug);var v=[],m=[],g={};return e.walk(new F(function(e){e instanceof rn?i(e.key,d&&e.quote):e instanceof tn?i(e.key.name):e instanceof Ye?i(e.property):e instanceof We&&a(e.property,d)})),e.transform(new L(function(e){e instanceof rn?d&&e.quote||(e.key=o(e.key)):e instanceof tn?e.key.name=o(e.key.name):e instanceof Ye?e.property=o(e.property):e instanceof We&&(d||(e.property=s(e.property)))}))}u.prototype=Object.create(Error.prototype),u.prototype.constructor=u,u.prototype.name="DefaultsError",s(u),u.croak=function(e,n){throw new u(e,n)};var K=function(){function e(e,o,a){function s(){var s=o(e[u],u),l=s instanceof r;return l&&(s=s.v),s instanceof n?(s=s.v,s instanceof t?f.push.apply(f,a?s.v.slice().reverse():s.v):f.push(s)):s!==i&&(s instanceof t?c.push.apply(c,a?s.v.slice().reverse():s.v):c.push(s)),l}var u,c=[],f=[];if(e instanceof Array)if(a){for(u=e.length;--u>=0&&!s(););c.reverse(),f.reverse()}else for(u=0;u<e.length&&!s();++u);else for(u in e)if(E(e,u)&&s())break;return f.concat(c)}function n(e){this.v=e}function t(e){this.v=e}function r(e){this.v=e}e.at_top=function(e){return new n(e)},e.splice=function(e){return new t(e)},e.last=function(e){return new r(e)};var i=e.skip={};return e}();A.prototype={set:function(e,n){return this.has(e)||++this._size,this._values["$"+e]=n,this},add:function(e,n){return this.has(e)?this.get(e).push(n):this.set(e,[n]),this},get:function(e){return this._values["$"+e]},del:function(e){return this.has(e)&&(--this._size,delete this._values["$"+e]),this},has:function(e){return"$"+e in this._values},each:function(e){for(var n in this._values)e(this._values[n],n.substr(1))},size:function(){return this._size},map:function(e){var n=[];for(var t in this._values)n.push(e(this._values[t],t.substr(1)));return n},toObject:function(){return this._values}},A.fromObject=function(e){var n=new A;return n._size=f(n._values,e),n};var Q=D("Token","type value line col pos endline endcol endpos nlb comments_before file raw",{},null),ee=D("Node","start end",{_clone:function(e){if(e){var n=this.clone();return n.transform(new L(function(e){if(e!==n)return e.clone(!0)}))}return new this.CTOR(this)},clone:function(e){return this._clone(e)},$documentation:"Base class of all AST nodes",$propdoc:{start:"[AST_Token] The first token of this node",end:"[AST_Token] The last token of this node"},_walk:function(e){return e._visit(this)},walk:function(e){return this._walk(e)}},null);ee.warn_function=null,ee.warn=function(e,n){ee.warn_function&&ee.warn_function(m(e,n))};var ne=D("Statement",null,{$documentation:"Base class of all statements"}),te=D("Debugger",null,{$documentation:"Represents a debugger statement"},ne),re=D("Directive","value scope quote",{$documentation:'Represents a directive, like "use strict";',$propdoc:{value:"[string] The value of this directive as a plain string (it's not an AST_String!)",scope:"[AST_Scope/S] The scope that this directive affects",quote:"[string] the original quote character"}},ne),ie=D("SimpleStatement","body",{$documentation:"A statement consisting of an expression, i.e. a = 1 + 2",$propdoc:{body:"[AST_Node] an expression node (should not be instanceof AST_Statement)"},_walk:function(e){return e._visit(this,function(){this.body._walk(e)})}},ne),oe=D("Block","body",{$documentation:"A body of statements (usually bracketed)",$propdoc:{body:"[AST_Statement*] an array of statements"},_walk:function(e){return e._visit(this,function(){k(this,e)})}},ne),ae=D("BlockStatement",null,{$documentation:"A block statement"},oe),se=D("EmptyStatement",null,{$documentation:"The empty statement (empty block or simply a semicolon)",_walk:function(e){return e._visit(this)}},ne),ue=D("StatementWithBody","body",{$documentation:"Base class for all statements that contain one nested body: `For`, `ForIn`, `Do`, `While`, `With`",$propdoc:{body:"[AST_Statement] the body; this should always be present, even if it's an AST_EmptyStatement"},_walk:function(e){return e._visit(this,function(){this.body._walk(e)})}},ne),ce=D("LabeledStatement","label",{$documentation:"Statement with a label",$propdoc:{label:"[AST_Label] a label definition"},_walk:function(e){return e._visit(this,function(){this.label._walk(e),this.body._walk(e)})},clone:function(e){var n=this._clone(e);if(e){
var t=n.label.references,r=this.label;n.walk(new F(function(e){e instanceof Fe&&e.label&&e.label.thedef===r&&t.push(e)}))}return n}},ue),fe=D("IterationStatement",null,{$documentation:"Internal class.  All loops inherit from it."},ue),le=D("DWLoop","condition",{$documentation:"Base class for do/while statements",$propdoc:{condition:"[AST_Node] the loop condition.  Should not be instanceof AST_Statement"}},fe),pe=D("Do",null,{$documentation:"A `do` statement",_walk:function(e){return e._visit(this,function(){this.body._walk(e),this.condition._walk(e)})}},le),de=D("While",null,{$documentation:"A `while` statement",_walk:function(e){return e._visit(this,function(){this.condition._walk(e),this.body._walk(e)})}},le),he=D("For","init condition step",{$documentation:"A `for` statement",$propdoc:{init:"[AST_Node?] the `for` initialization code, or null if empty",condition:"[AST_Node?] the `for` termination clause, or null if empty",step:"[AST_Node?] the `for` update clause, or null if empty"},_walk:function(e){return e._visit(this,function(){this.init&&this.init._walk(e),this.condition&&this.condition._walk(e),this.step&&this.step._walk(e),this.body._walk(e)})}},fe),ve=D("ForIn","init name object",{$documentation:"A `for ... in` statement",$propdoc:{init:"[AST_Node] the `for/in` initialization code",name:"[AST_SymbolRef?] the loop variable, only if `init` is AST_Var",object:"[AST_Node] the object that we're looping through"},_walk:function(e){return e._visit(this,function(){this.init._walk(e),this.object._walk(e),this.body._walk(e)})}},fe),_e=D("With","expression",{$documentation:"A `with` statement",$propdoc:{expression:"[AST_Node] the `with` expression"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e),this.body._walk(e)})}},ue),me=D("Scope","directives variables functions uses_with uses_eval parent_scope enclosed cname",{$documentation:"Base class for all statements introducing a lexical scope",$propdoc:{directives:"[string*/S] an array of directives declared in this scope",variables:"[Object/S] a map of name -> SymbolDef for all variables/functions defined in this scope",functions:"[Object/S] like `variables`, but only lists function declarations",uses_with:"[boolean/S] tells whether this scope uses the `with` statement",uses_eval:"[boolean/S] tells whether this scope contains a direct call to the global `eval`",parent_scope:"[AST_Scope?/S] link to the parent scope",enclosed:"[SymbolDef*/S] a list of all symbol definitions that are accessed from this scope or any subscopes",cname:"[integer/S] current index for mangling variables (used internally by the mangler)"}},oe),ge=D("Toplevel","globals",{$documentation:"The toplevel scope",$propdoc:{globals:"[Object/S] a map of name -> SymbolDef for all undeclared names"},wrap_enclose:function(e){var n=this,t=[],r=[];e.forEach(function(e){var n=e.lastIndexOf(":");t.push(e.substr(0,n)),r.push(e.substr(n+1))});var i="(function("+r.join(",")+"){ '$ORIG'; })("+t.join(",")+")";return i=U(i),i=i.transform(new L(function(e){if(e instanceof re&&"$ORIG"==e.value)return K.splice(n.body)}))},wrap_commonjs:function(e,n){var t=this,r=[];n&&(t.figure_out_scope(),t.walk(new F(function(e){e instanceof cn&&e.definition().global&&(o(function(n){return n.name==e.name},r)||r.push(e))})));var i="(function(exports, global){ '$ORIG'; '$EXPORTS'; global['"+e+"'] = exports; }({}, (function(){return this}())))";return i=U(i),i=i.transform(new L(function(e){if(e instanceof re)switch(e.value){case"$ORIG":return K.splice(t.body);case"$EXPORTS":var n=[];return r.forEach(function(e){n.push(new ie({body:new Qe({left:new We({expression:new mn({name:"exports"}),property:new wn({value:e.name})}),operator:"=",right:new mn(e)})}))}),K.splice(n)}}))}},me),be=D("Lambda","name argnames uses_arguments",{$documentation:"Base class for functions",$propdoc:{name:"[AST_SymbolDeclaration?] the name of this function",argnames:"[AST_SymbolFunarg*] array of function arguments",uses_arguments:"[boolean/S] tells whether this function accesses the arguments array"},_walk:function(e){return e._visit(this,function(){this.name&&this.name._walk(e);for(var n=this.argnames,t=0,r=n.length;t<r;t++)n[t]._walk(e);k(this,e)})}},me),ye=D("Accessor",null,{$documentation:"A setter/getter function.  The `name` property is always null."},be),we=D("Function",null,{$documentation:"A function expression"},be),Ae=D("Defun",null,{$documentation:"A function definition"},be),Ee=D("Jump",null,{$documentation:"Base class for “jumps” (for now that's `return`, `throw`, `break` and `continue`)"},ne),xe=D("Exit","value",{$documentation:"Base class for “exits” (`return` and `throw`)",$propdoc:{value:"[AST_Node?] the value returned or thrown by this statement; could be null for AST_Return"},_walk:function(e){return e._visit(this,this.value&&function(){this.value._walk(e)})}},Ee),De=D("Return",null,{$documentation:"A `return` statement"},xe),ke=D("Throw",null,{$documentation:"A `throw` statement"},xe),Fe=D("LoopControl","label",{$documentation:"Base class for loop control statements (`break` and `continue`)",$propdoc:{label:"[AST_LabelRef?] the label, or null if none"},_walk:function(e){return e._visit(this,this.label&&function(){this.label._walk(e)})}},Ee),Ce=D("Break",null,{$documentation:"A `break` statement"},Fe),Be=D("Continue",null,{$documentation:"A `continue` statement"},Fe),Se=D("If","condition alternative",{$documentation:"A `if` statement",$propdoc:{condition:"[AST_Node] the `if` condition",alternative:"[AST_Statement?] the `else` part, or null if not present"},_walk:function(e){return e._visit(this,function(){this.condition._walk(e),this.body._walk(e),this.alternative&&this.alternative._walk(e)})}},ue),Te=D("Switch","expression",{$documentation:"A `switch` statement",$propdoc:{expression:"[AST_Node] the `switch` “discriminant”"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e),k(this,e)})}},oe),$e=D("SwitchBranch",null,{$documentation:"Base class for `switch` branches"},oe),Oe=D("Default",null,{$documentation:"A `default` switch branch"},$e),qe=D("Case","expression",{$documentation:"A `case` switch branch",$propdoc:{expression:"[AST_Node] the `case` expression"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e),k(this,e)})}},$e),ze=D("Try","bcatch bfinally",{$documentation:"A `try` statement",$propdoc:{bcatch:"[AST_Catch?] the catch block, or null if not present",bfinally:"[AST_Finally?] the finally block, or null if not present"},_walk:function(e){return e._visit(this,function(){k(this,e),this.bcatch&&this.bcatch._walk(e),this.bfinally&&this.bfinally._walk(e)})}},oe),Me=D("Catch","argname",{$documentation:"A `catch` node; only makes sense as part of a `try` statement",$propdoc:{argname:"[AST_SymbolCatch] symbol for the exception"},_walk:function(e){return e._visit(this,function(){this.argname._walk(e),k(this,e)})}},oe),He=D("Finally",null,{$documentation:"A `finally` node; only makes sense as part of a `try` statement"},oe),je=D("Definitions","definitions",{$documentation:"Base class for `var` or `const` nodes (variable declarations/initializations)",$propdoc:{definitions:"[AST_VarDef*] array of variable definitions"},_walk:function(e){return e._visit(this,function(){for(var n=this.definitions,t=0,r=n.length;t<r;t++)n[t]._walk(e)})}},ne),Ne=D("Var",null,{$documentation:"A `var` statement"},je),Pe=D("Const",null,{$documentation:"A `const` statement"},je),Re=D("VarDef","name value",{$documentation:"A variable declaration; only appears in a AST_Definitions node",$propdoc:{name:"[AST_SymbolVar|AST_SymbolConst] name of the variable",value:"[AST_Node?] initializer, or null of there's no initializer"},_walk:function(e){return e._visit(this,function(){this.name._walk(e),this.value&&this.value._walk(e)})}}),Ie=D("Call","expression args",{$documentation:"A function call expression",$propdoc:{expression:"[AST_Node] expression to invoke as function",args:"[AST_Node*] array of arguments"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e);for(var n=this.args,t=0,r=n.length;t<r;t++)n[t]._walk(e)})}}),Ue=D("New",null,{$documentation:"An object instantiation.  Derives from a function call since it has exactly the same properties"},Ie),Le=D("Seq","car cdr",{$documentation:"A sequence expression (two comma-separated expressions)",$propdoc:{car:"[AST_Node] first element in sequence",cdr:"[AST_Node] second element in sequence"},$cons:function(e,n){var t=new Le(e);return t.car=e,t.cdr=n,t},$from_array:function(e){if(0==e.length)return null;if(1==e.length)return e[0].clone();for(var n=null,t=e.length;--t>=0;)n=Le.cons(e[t],n);for(var r=n;r;){if(r.cdr&&!r.cdr.cdr){r.cdr=r.cdr.car;break}r=r.cdr}return n},to_array:function(){for(var e=this,n=[];e;){if(n.push(e.car),e.cdr&&!(e.cdr instanceof Le)){n.push(e.cdr);break}e=e.cdr}return n},add:function(e){for(var n=this;n;){if(!(n.cdr instanceof Le)){var t=Le.cons(n.cdr,e);return n.cdr=t}n=n.cdr}},len:function(){return this.cdr instanceof Le?this.cdr.len()+1:2},_walk:function(e){return e._visit(this,function(){this.car._walk(e),this.cdr&&this.cdr._walk(e)})}}),Ve=D("PropAccess","expression property",{$documentation:'Base class for property access expressions, i.e. `a.foo` or `a["foo"]`',$propdoc:{expression:"[AST_Node] the “container” expression",property:"[AST_Node|string] the property to access.  For AST_Dot this is always a plain string, while for AST_Sub it's an arbitrary AST_Node"}}),Ye=D("Dot",null,{$documentation:"A dotted property access expression",_walk:function(e){return e._visit(this,function(){this.expression._walk(e)})}},Ve),We=D("Sub",null,{$documentation:'Index-style property access, i.e. `a["foo"]`',_walk:function(e){return e._visit(this,function(){this.expression._walk(e),this.property._walk(e)})}},Ve),Je=D("Unary","operator expression",{$documentation:"Base class for unary expressions",$propdoc:{operator:"[string] the operator",expression:"[AST_Node] expression that this unary operator applies to"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e)})}}),Ge=D("UnaryPrefix",null,{$documentation:"Unary prefix expression, i.e. `typeof i` or `++i`"},Je),Xe=D("UnaryPostfix",null,{$documentation:"Unary postfix expression, i.e. `i++`"},Je),Ze=D("Binary","left operator right",{$documentation:"Binary expression, i.e. `a + b`",$propdoc:{left:"[AST_Node] left-hand side expression",operator:"[string] the operator",right:"[AST_Node] right-hand side expression"},_walk:function(e){return e._visit(this,function(){this.left._walk(e),this.right._walk(e)})}}),Ke=D("Conditional","condition consequent alternative",{$documentation:"Conditional expression using the ternary operator, i.e. `a ? b : c`",$propdoc:{condition:"[AST_Node]",consequent:"[AST_Node]",alternative:"[AST_Node]"},_walk:function(e){return e._visit(this,function(){this.condition._walk(e),this.consequent._walk(e),this.alternative._walk(e)})}}),Qe=D("Assign",null,{$documentation:"An assignment expression — `a = b + 5`"},Ze),en=D("Array","elements",{$documentation:"An array literal",$propdoc:{elements:"[AST_Node*] array of elements"},_walk:function(e){return e._visit(this,function(){for(var n=this.elements,t=0,r=n.length;t<r;t++)n[t]._walk(e)})}}),nn=D("Object","properties",{$documentation:"An object literal",$propdoc:{properties:"[AST_ObjectProperty*] array of properties"},_walk:function(e){return e._visit(this,function(){for(var n=this.properties,t=0,r=n.length;t<r;t++)n[t]._walk(e)})}}),tn=D("ObjectProperty","key value",{$documentation:"Base class for literal object properties",$propdoc:{key:"[string] the property name converted to a string for ObjectKeyVal.  For setters and getters this is an arbitrary AST_Node.",value:"[AST_Node] property value.  For setters and getters this is an AST_Function."},_walk:function(e){return e._visit(this,function(){this.value._walk(e)})}}),rn=D("ObjectKeyVal","quote",{$documentation:"A key: value object property",$propdoc:{quote:"[string] the original quote character"}},tn),on=D("ObjectSetter",null,{$documentation:"An object setter property"},tn),an=D("ObjectGetter",null,{$documentation:"An object getter property"},tn),sn=D("Symbol","scope name thedef",{$propdoc:{name:"[string] name of this symbol",scope:"[AST_Scope/S] the current scope (not necessarily the definition scope)",thedef:"[SymbolDef/S] the definition of this symbol"},$documentation:"Base class for all symbols"}),un=D("SymbolAccessor",null,{$documentation:"The name of a property accessor (setter/getter function)"},sn),cn=D("SymbolDeclaration","init",{$documentation:"A declaration symbol (symbol in var/const, function name or argument, symbol in catch)"},sn),fn=D("SymbolVar",null,{$documentation:"Symbol defining a variable"},cn),ln=D("SymbolConst",null,{$documentation:"A constant declaration"},cn),pn=D("SymbolFunarg",null,{$documentation:"Symbol naming a function argument"},fn),dn=D("SymbolDefun",null,{$documentation:"Symbol defining a function"},cn),hn=D("SymbolLambda",null,{$documentation:"Symbol naming a function expression"},cn),vn=D("SymbolCatch",null,{$documentation:"Symbol naming the exception in catch"},cn),_n=D("Label","references",{$documentation:"Symbol naming a label (declaration)",$propdoc:{references:"[AST_LoopControl*] a list of nodes referring to this label"},initialize:function(){this.references=[],this.thedef=this}},sn),mn=D("SymbolRef",null,{$documentation:"Reference to some symbol (not definition/declaration)"},sn),gn=D("LabelRef",null,{$documentation:"Reference to a label symbol"},sn),bn=D("This",null,{$documentation:"The `this` symbol"},sn),yn=D("Constant",null,{$documentation:"Base class for all constants",getValue:function(){return this.value}}),wn=D("String","value quote",{$documentation:"A string literal",$propdoc:{value:"[string] the contents of this string",quote:"[string] the original quote character"}},yn),An=D("Number","value literal",{$documentation:"A number literal",$propdoc:{value:"[number] the numeric value",literal:"[string] numeric value as string (optional)"}},yn),En=D("RegExp","value",{$documentation:"A regexp literal",$propdoc:{value:"[RegExp] the actual regexp"}},yn),xn=D("Atom",null,{$documentation:"Base class for atoms"},yn),Dn=D("Null",null,{$documentation:"The `null` atom",value:null},xn),kn=D("NaN",null,{$documentation:"The impossible value",value:NaN},xn),Fn=D("Undefined",null,{$documentation:"The `undefined` value",value:void 0},xn),Cn=D("Hole",null,{$documentation:"A hole in an array",value:void 0},xn),Bn=D("Infinity",null,{$documentation:"The `Infinity` value",value:1/0},xn),Sn=D("Boolean",null,{$documentation:"Base class for booleans"},xn),Tn=D("False",null,{$documentation:"The `false` atom",value:!1},Sn),$n=D("True",null,{$documentation:"The `true` atom",value:!0},Sn);F.prototype={_visit:function(e,n){this.push(e);var t=this.visit(e,n?function(){n.call(e)}:l);return!t&&n&&n.call(e),this.pop(e),t},parent:function(e){return this.stack[this.stack.length-2-(e||0)]},push:function(e){e instanceof be?this.directives=Object.create(this.directives):e instanceof re&&!this.directives[e.value]&&(this.directives[e.value]=e),this.stack.push(e)},pop:function(e){this.stack.pop(),e instanceof be&&(this.directives=Object.getPrototypeOf(this.directives))},self:function(){return this.stack[this.stack.length-1]},find_parent:function(e){for(var n=this.stack,t=n.length;--t>=0;){var r=n[t];if(r instanceof e)return r}},has_directive:function(e){var n=this.directives[e];if(n)return n;var t=this.stack[this.stack.length-1];if(t instanceof me)for(var r=0;r<t.body.length;++r){var i=t.body[r];if(!(i instanceof re))break;if(i.value==e)return i}},in_boolean_context:function(){for(var e=this.stack,n=e.length,t=e[--n];n>0;){var r=e[--n];if(r instanceof Se&&r.condition===t||r instanceof Ke&&r.condition===t||r instanceof le&&r.condition===t||r instanceof he&&r.condition===t||r instanceof Ge&&"!"==r.operator&&r.expression===t)return!0;if(!(r instanceof Ze)||"&&"!=r.operator&&"||"!=r.operator)return!1;t=r}},loopcontrol_target:function(e){var n=this.stack;if(e.label)for(var t=n.length;--t>=0;){var r=n[t];if(r instanceof ce&&r.label.name==e.label.name)return r.body}else for(var t=n.length;--t>=0;){var r=n[t];if(r instanceof fe||e instanceof Ce&&r instanceof Te)return r}}};var On="break case catch const continue debugger default delete do else finally for function if in instanceof new return switch throw try typeof var void while with",qn="false null true",zn="abstract boolean byte char class double enum export extends final float goto implements import int interface let long native package private protected public short static super synchronized this throws transient volatile yield "+qn+" "+On,Mn="return new delete throw else case";On=y(On),zn=y(zn),Mn=y(Mn),qn=y(qn);var Hn=y(r("+-*&%=<>!?|~^")),jn=/^0x[0-9a-f]+$/i,Nn=/^0[0-7]+$/,Pn=y(["in","instanceof","typeof","new","void","delete","++","--","+","-","!","~","&","|","^","*","/","%",">>","<<",">>>","<",">","<=",">=","==","===","!=","!==","?","=","+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&=","&&","||"]),Rn=y(r("  \n\r\t\f\v​           \u2028\u2029  　\ufeff")),In=y(r("\n\r\u2028\u2029")),Un=y(r("[{(,.;:")),Ln=y(r("[]{}(),;:")),Vn=(y(r("gmsiy")),{letter:new RegExp("[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),digit:new RegExp("[\\u0030-\\u0039\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0BE6-\\u0BEF\\u0C66-\\u0C6F\\u0CE6-\\u0CEF\\u0D66-\\u0D6F\\u0DE6-\\u0DEF\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F29\\u1040-\\u1049\\u1090-\\u1099\\u17E0-\\u17E9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19D9\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\uA620-\\uA629\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uA9F0-\\uA9F9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19]"),non_spacing_mark:new RegExp("[\\u0300-\\u036F\\u0483-\\u0487\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065E\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0900-\\u0902\\u093C\\u0941-\\u0948\\u094D\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09BC\\u09C1-\\u09C4\\u09CD\\u09E2\\u09E3\\u0A01\\u0A02\\u0A3C\\u0A41\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81\\u0A82\\u0ABC\\u0AC1-\\u0AC5\\u0AC7\\u0AC8\\u0ACD\\u0AE2\\u0AE3\\u0B01\\u0B3C\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B56\\u0B62\\u0B63\\u0B82\\u0BC0\\u0BCD\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0CBC\\u0CBF\\u0CC6\\u0CCC\\u0CCD\\u0CE2\\u0CE3\\u0D41-\\u0D44\\u0D4D\\u0D62\\u0D63\\u0DCA\\u0DD2-\\u0DD4\\u0DD6\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86\\u0F87\\u0F90-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039\\u103A\\u103D\\u103E\\u1058\\u1059\\u105E-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108D\\u109D\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193B\\u1A17\\u1A18\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1B00-\\u1B03\\u1B34\\u1B36-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80\\u1B81\\u1BA2-\\u1BA5\\u1BA8\\u1BA9\\u1C2C-\\u1C33\\u1C36\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1DC0-\\u1DE6\\u1DFD-\\u1DFF\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2CEF-\\u2CF1\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F\\uA67C\\uA67D\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA825\\uA826\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\\uAA29-\\uAA2E\\uAA31\\uAA32\\uAA35\\uAA36\\uAA43\\uAA4C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE26]"),space_combining_mark:new RegExp("[\\u0903\\u093E-\\u0940\\u0949-\\u094C\\u094E\\u0982\\u0983\\u09BE-\\u09C0\\u09C7\\u09C8\\u09CB\\u09CC\\u09D7\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB\\u0ACC\\u0B02\\u0B03\\u0B3E\\u0B40\\u0B47\\u0B48\\u0B4B\\u0B4C\\u0B57\\u0BBE\\u0BBF\\u0BC1\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0BD7\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82\\u0C83\\u0CBE\\u0CC0-\\u0CC4\\u0CC7\\u0CC8\\u0CCA\\u0CCB\\u0CD5\\u0CD6\\u0D02\\u0D03\\u0D3E-\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D57\\u0D82\\u0D83\\u0DCF-\\u0DD1\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0F3E\\u0F3F\\u0F7F\\u102B\\u102C\\u1031\\u1038\\u103B\\u103C\\u1056\\u1057\\u1062-\\u1064\\u1067-\\u106D\\u1083\\u1084\\u1087-\\u108C\\u108F\\u109A-\\u109C\\u17B6\\u17BE-\\u17C5\\u17C7\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930\\u1931\\u1933-\\u1938\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A19-\\u1A1B\\u1A55\\u1A57\\u1A61\\u1A63\\u1A64\\u1A6D-\\u1A72\\u1B04\\u1B35\\u1B3B\\u1B3D-\\u1B41\\u1B43\\u1B44\\u1B82\\u1BA1\\u1BA6\\u1BA7\\u1BAA\\u1C24-\\u1C2B\\u1C34\\u1C35\\u1CE1\\u1CF2\\uA823\\uA824\\uA827\\uA880\\uA881\\uA8B4-\\uA8C3\\uA952\\uA953\\uA983\\uA9B4\\uA9B5\\uA9BA\\uA9BB\\uA9BD-\\uA9C0\\uAA2F\\uAA30\\uAA33\\uAA34\\uAA4D\\uAA7B\\uABE3\\uABE4\\uABE6\\uABE7\\uABE9\\uABEA\\uABEC]"),connector_punctuation:new RegExp("[\\u005F\\u203F\\u2040\\u2054\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFF3F]")});N.prototype=Object.create(Error.prototype),N.prototype.constructor=N,N.prototype.name="SyntaxError",s(N);var Yn={},Wn=y(["typeof","void","delete","--","++","!","~","-","+"]),Jn=y(["--","++"]),Gn=y(["=","+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&="]),Xn=function(e,n){for(var t=0;t<e.length;++t)for(var r=e[t],i=0;i<r.length;++i)n[r[i]]=t+1;return n}([["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"]],{}),Zn=(t(["for","do","while","switch"]),t(["atom","num","string","regexp","name"]));L.prototype=new F,function(e){function n(n,t){n.DEFMETHOD("transform",function(n,r){var i,o;return n.push(this),n.before&&(i=n.before(this,t,r)),i===e&&(n.after?(n.stack[n.stack.length-1]=i=this,t(i,n),(o=n.after(i,r))!==e&&(i=o)):(i=this,t(i,n))),n.pop(this),i})}function t(e,n){return K(e,function(e){return e.transform(n,!0)})}n(ee,l),n(ce,function(e,n){e.label=e.label.transform(n),e.body=e.body.transform(n)}),n(ie,function(e,n){e.body=e.body.transform(n)}),n(oe,function(e,n){e.body=t(e.body,n)}),n(le,function(e,n){e.condition=e.condition.transform(n),e.body=e.body.transform(n)}),n(he,function(e,n){e.init&&(e.init=e.init.transform(n)),e.condition&&(e.condition=e.condition.transform(n)),e.step&&(e.step=e.step.transform(n)),e.body=e.body.transform(n)}),n(ve,function(e,n){e.init=e.init.transform(n),e.object=e.object.transform(n),e.body=e.body.transform(n)}),n(_e,function(e,n){e.expression=e.expression.transform(n),e.body=e.body.transform(n)}),n(xe,function(e,n){e.value&&(e.value=e.value.transform(n))}),n(Fe,function(e,n){e.label&&(e.label=e.label.transform(n))}),n(Se,function(e,n){e.condition=e.condition.transform(n),e.body=e.body.transform(n),e.alternative&&(e.alternative=e.alternative.transform(n))}),n(Te,function(e,n){e.expression=e.expression.transform(n),e.body=t(e.body,n)}),n(qe,function(e,n){e.expression=e.expression.transform(n),e.body=t(e.body,n)}),n(ze,function(e,n){e.body=t(e.body,n),e.bcatch&&(e.bcatch=e.bcatch.transform(n)),e.bfinally&&(e.bfinally=e.bfinally.transform(n))}),n(Me,function(e,n){e.argname=e.argname.transform(n),e.body=t(e.body,n)}),n(je,function(e,n){e.definitions=t(e.definitions,n)}),n(Re,function(e,n){e.name=e.name.transform(n),e.value&&(e.value=e.value.transform(n))}),n(be,function(e,n){e.name&&(e.name=e.name.transform(n)),e.argnames=t(e.argnames,n),e.body=t(e.body,n)}),n(Ie,function(e,n){e.expression=e.expression.transform(n),e.args=t(e.args,n)}),n(Le,function(e,n){e.car=e.car.transform(n),e.cdr=e.cdr.transform(n)}),n(Ye,function(e,n){e.expression=e.expression.transform(n)}),n(We,function(e,n){e.expression=e.expression.transform(n),e.property=e.property.transform(n)}),n(Je,function(e,n){e.expression=e.expression.transform(n)}),n(Ze,function(e,n){e.left=e.left.transform(n),e.right=e.right.transform(n)}),n(Ke,function(e,n){e.condition=e.condition.transform(n),e.consequent=e.consequent.transform(n),e.alternative=e.alternative.transform(n)}),n(en,function(e,n){e.elements=t(e.elements,n)}),n(nn,function(e,n){e.properties=t(e.properties,n)}),n(tn,function(e,n){e.value=e.value.transform(n)})}(),V.next_id=1,V.prototype={unmangleable:function(e){return e||(e={}),this.global&&!e.toplevel||this.undeclared||!e.eval&&(this.scope.uses_eval||this.scope.uses_with)||e.keep_fnames&&(this.orig[0]instanceof hn||this.orig[0]instanceof dn)},mangle:function(e){var n=e.cache&&e.cache.props;if(this.global&&n&&n.has(this.name))this.mangled_name=n.get(this.name);else if(!this.mangled_name&&!this.unmangleable(e)){var t=this.scope,r=this.orig[0];!e.screw_ie8&&r instanceof hn&&(t=t.parent_scope);var i;this.defun&&(i=this.defun.variables.get(this.name))?this.mangled_name=i.mangled_name||i.name:this.mangled_name=t.next_mangled(e,this),this.global&&n&&n.set(this.name,this.mangled_name)}}},ge.DEFMETHOD("figure_out_scope",function(e){e=c(e,{cache:null,screw_ie8:!0});var n=this,t=n.parent_scope=null,r=new A,i=null,o=new F(function(n,o){if(n instanceof Me){var a=t;return t=new me(n),t.init_scope_vars(a),o(),t=a,!0}if(n instanceof me){n.init_scope_vars(t);var a=t,s=i,u=r;return i=t=n,r=new A,o(),t=a,i=s,r=u,!0}if(n instanceof ce){var c=n.label;if(r.has(c.name))throw new Error(m("Label {name} defined twice",c));return r.set(c.name,c),o(),r.del(c.name),!0}if(n instanceof _e)for(var f=t;f;f=f.parent_scope)f.uses_with=!0;else if(n instanceof sn&&(n.scope=t),n instanceof _n&&(n.thedef=n,n.references=[]),n instanceof hn)i.def_function(n);else if(n instanceof dn)(n.scope=i.parent_scope).def_function(n);else if(n instanceof fn||n instanceof ln){if(i.def_variable(n),i!==t){n.mark_enclosed(e);var l=t.find_variable(n);n.thedef!==l&&(n.thedef=l,n.reference(e))}}else if(n instanceof vn)t.def_variable(n).defun=i;else if(n instanceof gn){var p=r.get(n.name);if(!p)throw new Error(m("Undefined label {name} [{line},{col}]",{name:n.name,line:n.start.line,col:n.start.col}));n.thedef=p}});n.walk(o);var a=null,o=(n.globals=new A,new F(function(t,r){if(t instanceof be){var i=a;return a=t,r(),a=i,!0}if(t instanceof Fe&&t.label)return t.label.thedef.references.push(t),!0;if(t instanceof mn){var s=t.name;if("eval"==s&&o.parent()instanceof Ie)for(var u=t.scope;u&&!u.uses_eval;u=u.parent_scope)u.uses_eval=!0;var c=t.scope.find_variable(s);return t.scope instanceof be&&"arguments"==s&&(t.scope.uses_arguments=!0),c||(c=n.def_global(t)),t.thedef=c,t.reference(e),!0}}));n.walk(o),e.screw_ie8||n.walk(new F(function(t,r){if(t instanceof vn){var i=t.name,o=t.thedef.references,a=t.thedef.defun,s=a.find_variable(i)||n.globals.get(i)||a.def_variable(t);return o.forEach(function(n){n.thedef=s,n.reference(e)}),t.thedef=s,!0}})),e.cache&&(this.cname=e.cache.cname)}),
ge.DEFMETHOD("def_global",function(e){var n=this.globals,t=e.name;if(n.has(t))return n.get(t);var r=new V(this,n.size(),e);return r.undeclared=!0,r.global=!0,n.set(t,r),r}),me.DEFMETHOD("init_scope_vars",function(e){this.variables=new A,this.functions=new A,this.uses_with=!1,this.uses_eval=!1,this.parent_scope=e,this.enclosed=[],this.cname=-1}),be.DEFMETHOD("init_scope_vars",function(){me.prototype.init_scope_vars.apply(this,arguments),this.uses_arguments=!1,this.def_variable(new fn({name:"arguments",start:this.start,end:this.end}))}),sn.DEFMETHOD("mark_enclosed",function(e){for(var n=this.definition(),t=this.scope;t&&(_(t.enclosed,n),e.keep_fnames&&t.functions.each(function(e){_(n.scope.enclosed,e)}),t!==n.scope);)t=t.parent_scope}),sn.DEFMETHOD("reference",function(e){this.definition().references.push(this),this.mark_enclosed(e)}),me.DEFMETHOD("find_variable",function(e){return e instanceof sn&&(e=e.name),this.variables.get(e)||this.parent_scope&&this.parent_scope.find_variable(e)}),me.DEFMETHOD("def_function",function(e){this.functions.set(e.name,this.def_variable(e))}),me.DEFMETHOD("def_variable",function(e){var n;return this.variables.has(e.name)?(n=this.variables.get(e.name),n.orig.push(e)):(n=new V(this,this.variables.size(),e),this.variables.set(e.name,n),n.global=!this.parent_scope),e.thedef=n}),me.DEFMETHOD("next_mangled",function(e){var n=this.enclosed;e:for(;;){var t=Kn(++this.cname);if(q(t)&&!(e.except.indexOf(t)>=0)){for(var r=n.length;--r>=0;){var i=n[r],o=i.mangled_name||i.unmangleable(e)&&i.name;if(t==o)continue e}return t}}}),we.DEFMETHOD("next_mangled",function(e,n){for(var t=n.orig[0]instanceof pn&&this.name&&this.name.definition(),r=t?t.mangled_name||t.name:null;;){var i=be.prototype.next_mangled.call(this,e,n);if(!r||r!=i)return i}}),sn.DEFMETHOD("unmangleable",function(e){return this.definition().unmangleable(e)}),un.DEFMETHOD("unmangleable",function(){return!0}),_n.DEFMETHOD("unmangleable",function(){return!1}),sn.DEFMETHOD("unreferenced",function(){return 0==this.definition().references.length&&!(this.scope.uses_eval||this.scope.uses_with)}),sn.DEFMETHOD("undeclared",function(){return this.definition().undeclared}),gn.DEFMETHOD("undeclared",function(){return!1}),_n.DEFMETHOD("undeclared",function(){return!1}),sn.DEFMETHOD("definition",function(){return this.thedef}),sn.DEFMETHOD("global",function(){return this.definition().global}),ge.DEFMETHOD("_default_mangler_options",function(e){return c(e,{eval:!1,except:[],keep_fnames:!1,screw_ie8:!0,sort:!1,toplevel:!1})}),ge.DEFMETHOD("mangle_names",function(e){e=this._default_mangler_options(e),e.except.push("arguments");var n=-1,t=[];e.cache&&this.globals.each(function(n){e.except.indexOf(n.name)<0&&t.push(n)});var r=new F(function(i,o){if(i instanceof ce){var a=n;return o(),n=a,!0}if(i instanceof me){var s=(r.parent(),[]);return i.variables.each(function(n){e.except.indexOf(n.name)<0&&s.push(n)}),void t.push.apply(t,s)}if(i instanceof _n){var u;do{u=Kn(++n)}while(!q(u));return i.mangled_name=u,!0}if(e.screw_ie8&&i instanceof vn)return void t.push(i.definition())});this.walk(r),t.forEach(function(n){n.mangle(e)}),e.cache&&(e.cache.cname=this.cname)}),ge.DEFMETHOD("compute_char_frequency",function(e){e=this._default_mangler_options(e);var n=new F(function(n){n instanceof yn?Kn.consider(n.print_to_string()):n instanceof De?Kn.consider("return"):n instanceof ke?Kn.consider("throw"):n instanceof Be?Kn.consider("continue"):n instanceof Ce?Kn.consider("break"):n instanceof te?Kn.consider("debugger"):n instanceof re?Kn.consider(n.value):n instanceof de?Kn.consider("while"):n instanceof pe?Kn.consider("do while"):n instanceof Se?(Kn.consider("if"),n.alternative&&Kn.consider("else")):n instanceof Ne?Kn.consider("var"):n instanceof Pe?Kn.consider("const"):n instanceof be?Kn.consider("function"):n instanceof he?Kn.consider("for"):n instanceof ve?Kn.consider("for in"):n instanceof Te?Kn.consider("switch"):n instanceof qe?Kn.consider("case"):n instanceof Oe?Kn.consider("default"):n instanceof _e?Kn.consider("with"):n instanceof on?Kn.consider("set"+n.key):n instanceof an?Kn.consider("get"+n.key):n instanceof rn?Kn.consider(n.key):n instanceof Ue?Kn.consider("new"):n instanceof bn?Kn.consider("this"):n instanceof ze?Kn.consider("try"):n instanceof Me?Kn.consider("catch"):n instanceof He?Kn.consider("finally"):n instanceof sn&&n.unmangleable(e)?Kn.consider(n.name):n instanceof Je||n instanceof Ze?Kn.consider(n.operator):n instanceof Ye&&Kn.consider(n.property)});this.walk(n),Kn.sort()});var Kn=function(){function e(){r=Object.create(null),t=i.split("").map(function(e){return e.charCodeAt(0)}),t.forEach(function(e){r[e]=0})}function n(e){var n="",r=54;e++;do{e--,n+=String.fromCharCode(t[e%r]),e=Math.floor(e/r),r=64}while(e>0);return n}var t,r,i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_0123456789";return n.consider=function(e){for(var n=e.length;--n>=0;){var t=e.charCodeAt(n);t in r&&++r[t]}},n.sort=function(){t=b(t,function(e,n){return B(e)&&!B(n)?1:B(n)&&!B(e)?-1:r[n]-r[e]})},n.reset=e,e(),n.get=function(){return t},n.freq=function(){return r},n}();ge.DEFMETHOD("scope_warnings",function(e){e=c(e,{assign_to_global:!0,eval:!0,func_arguments:!0,nested_defuns:!0,undeclared:!1,unreferenced:!0});var n=new F(function(t){if(e.undeclared&&t instanceof mn&&t.undeclared()&&ee.warn("Undeclared symbol: {name} [{file}:{line},{col}]",{name:t.name,file:t.start.file,line:t.start.line,col:t.start.col}),e.assign_to_global){var r=null;t instanceof Qe&&t.left instanceof mn?r=t.left:t instanceof ve&&t.init instanceof mn&&(r=t.init),r&&(r.undeclared()||r.global()&&r.scope!==r.definition().scope)&&ee.warn("{msg}: {name} [{file}:{line},{col}]",{msg:r.undeclared()?"Accidental global?":"Assignment to global",name:r.name,file:r.start.file,line:r.start.line,col:r.start.col})}e.eval&&t instanceof mn&&t.undeclared()&&"eval"==t.name&&ee.warn("Eval is used [{file}:{line},{col}]",t.start),e.unreferenced&&(t instanceof cn||t instanceof _n)&&!(t instanceof vn)&&t.unreferenced()&&ee.warn("{type} {name} is declared but not referenced [{file}:{line},{col}]",{type:t instanceof _n?"Label":"Symbol",name:t.name,file:t.start.file,line:t.start.line,col:t.start.col}),e.func_arguments&&t instanceof be&&t.uses_arguments&&ee.warn("arguments used in function {name} [{file}:{line},{col}]",{name:t.name?t.name.name:"anonymous",file:t.start.file,line:t.start.line,col:t.start.col}),e.nested_defuns&&t instanceof Ae&&!(n.parent()instanceof me)&&ee.warn('Function {name} declared in nested statement "{type}" [{file}:{line},{col}]',{name:t.name.name,type:n.parent().TYPE,file:t.start.file,line:t.start.line,col:t.start.col})});this.walk(n)});var Qn=/^$|[;{][\s\n]*$/;!function(){function e(e,n){e.DEFMETHOD("_codegen",n)}function n(e,t){Array.isArray(e)?e.forEach(function(e){n(e,t)}):e.DEFMETHOD("needs_parens",t)}function t(e,n,t,r){var i=e.length-1;_=r,e.forEach(function(e,r){!0!==_||e instanceof re||e instanceof se||e instanceof ie&&e.body instanceof wn||(_=!1),e instanceof se||(t.indent(),e.print(t),r==i&&n||(t.newline(),n&&t.newline())),!0===_&&e instanceof ie&&e.body instanceof wn&&(_=!1)}),_=!1}function r(e,n,r){e.length>0?n.with_block(function(){t(e,!1,n,r)}):n.print("{}")}function i(e,n){var t=e.body;if(n.option("bracketize")||!n.option("screw_ie8")&&t instanceof pe)return p(t,n);if(!t)return n.force_semicolon();for(;;)if(t instanceof Se){if(!t.alternative)return void p(e.body,n);t=t.alternative}else{if(!(t instanceof ue))break;t=t.body}s(e.body,n)}function o(e,n,t){if(t)try{e.walk(new F(function(e){if(e instanceof Ze&&"in"==e.operator)throw n})),e.print(n)}catch(t){if(t!==n)throw t;e.print(n,!0)}else e.print(n)}function a(e){return[92,47,46,43,42,63,40,41,91,93,123,125,36,94,58,124,33,10,13,0,65279,8232,8233].indexOf(e)<0}function s(e,n){n.option("bracketize")?p(e,n):!e||e instanceof se?n.force_semicolon():e.print(n)}function u(e,n){return e.args.length>0||n.option("beautify")}function c(e){for(var n=e[0],t=n.length,r=1;r<e.length;++r)e[r].length<t&&(n=e[r],t=n.length);return n}function f(e){var n,t=e.toString(10),r=[t.replace(/^0\./,".").replace("e+","e")];return Math.floor(e)===e?(e>=0?r.push("0x"+e.toString(16).toLowerCase(),"0"+e.toString(8)):r.push("-0x"+(-e).toString(16).toLowerCase(),"-0"+(-e).toString(8)),(n=/^(.*?)(0+)$/.exec(e))&&r.push(n[1]+"e"+n[2].length)):(n=/^0?\.(0+)(.*)$/.exec(e))&&r.push(n[2]+"e-"+(n[1].length+n[2].length),t.substr(t.indexOf("."))),c(r)}function p(e,n){!e||e instanceof se?n.print("{}"):e instanceof ae?e.print(n):n.with_block(function(){n.indent(),e.print(n),n.newline()})}function d(e,n){e.DEFMETHOD("add_source_map",function(e){n(this,e)})}function h(e,n){n.add_mapping(e.start)}var v=!1,_=!1;ee.DEFMETHOD("print",function(e,n){function t(){r.add_comments(e),r.add_source_map(e),i(r,e)}var r=this,i=r._codegen,o=v;r instanceof re&&"use asm"==r.value&&e.parent()instanceof me&&(v=!0),e.push_node(r),n||r.needs_parens(e)?e.with_parens(t):t(),e.pop_node(),r instanceof me&&(v=o)}),ee.DEFMETHOD("print_to_string",function(e){var n=W(e);return e||(n._readonly=!0),this.print(n),n.get()}),ee.DEFMETHOD("add_comments",function(e){if(!e._readonly){var n=this,t=n.start;if(t&&!t._comments_dumped){t._comments_dumped=!0;var r=t.comments_before||[];if(n instanceof xe&&n.value&&n.value.walk(new F(function(e){if(e.start&&e.start.comments_before&&(r=r.concat(e.start.comments_before),e.start.comments_before=[]),e instanceof we||e instanceof en||e instanceof nn)return!0})),0==e.pos()){r.length>0&&e.option("shebang")&&"comment5"==r[0].type&&(e.print("#!"+r.shift().value+"\n"),e.indent());var i=e.option("preamble");i&&e.print(i.replace(/\r\n?|[\n\u2028\u2029]|\s*$/g,"\n"))}r=r.filter(e.comment_filter,n),!e.option("beautify")&&r.length>0&&/comment[134]/.test(r[0].type)&&0!==e.col()&&r[0].nlb&&e.print("\n"),r.forEach(function(n){/comment[134]/.test(n.type)?(e.print("//"+n.value+"\n"),e.indent()):"comment2"==n.type&&(e.print("/*"+n.value+"*/"),t.nlb?(e.print("\n"),e.indent()):e.space())})}}}),n(ee,function(){return!1}),n(we,function(e){if(x(e))return!0;if(e.option("wrap_iife")){var n=e.parent();return n instanceof Ie&&n.expression===this}return!1}),n(nn,function(e){return x(e)}),n(Je,function(e){var n=e.parent();return n instanceof Ve&&n.expression===this||n instanceof Ie&&n.expression===this}),n(Le,function(e){var n=e.parent();return n instanceof Ie||n instanceof Je||n instanceof Ze||n instanceof Re||n instanceof Ve||n instanceof en||n instanceof tn||n instanceof Ke}),n(Ze,function(e){var n=e.parent();if(n instanceof Ie&&n.expression===this)return!0;if(n instanceof Je)return!0;if(n instanceof Ve&&n.expression===this)return!0;if(n instanceof Ze){var t=n.operator,r=Xn[t],i=this.operator,o=Xn[i];if(r>o||r==o&&this===n.right)return!0}}),n(Ve,function(e){var n=e.parent();if(n instanceof Ue&&n.expression===this)try{this.walk(new F(function(e){if(e instanceof Ie)throw n}))}catch(e){if(e!==n)throw e;return!0}}),n(Ie,function(e){var n,t=e.parent();return t instanceof Ue&&t.expression===this||this.expression instanceof we&&t instanceof Ve&&t.expression===this&&(n=e.parent(1))instanceof Qe&&n.left===t}),n(Ue,function(e){var n=e.parent();if(!u(this,e)&&(n instanceof Ve||n instanceof Ie&&n.expression===this))return!0}),n(An,function(e){var n=e.parent();if(n instanceof Ve&&n.expression===this){var t=this.getValue();if(t<0||/^0/.test(f(t)))return!0}}),n([Qe,Ke],function(e){var n=e.parent();return n instanceof Je||(n instanceof Ze&&!(n instanceof Qe)||(n instanceof Ie&&n.expression===this||(n instanceof Ke&&n.condition===this||(n instanceof Ve&&n.expression===this||void 0))))}),e(re,function(e,n){n.print_string(e.value,e.quote),n.semicolon()}),e(te,function(e,n){n.print("debugger"),n.semicolon()}),ue.DEFMETHOD("_do_print_body",function(e){s(this.body,e)}),e(ne,function(e,n){e.body.print(n),n.semicolon()}),e(ge,function(e,n){t(e.body,!0,n,!0),n.print("")}),e(ce,function(e,n){e.label.print(n),n.colon(),e.body.print(n)}),e(ie,function(e,n){e.body.print(n),n.semicolon()}),e(ae,function(e,n){r(e.body,n)}),e(se,function(e,n){n.semicolon()}),e(pe,function(e,n){n.print("do"),n.space(),p(e.body,n),n.space(),n.print("while"),n.space(),n.with_parens(function(){e.condition.print(n)}),n.semicolon()}),e(de,function(e,n){n.print("while"),n.space(),n.with_parens(function(){e.condition.print(n)}),n.space(),e._do_print_body(n)}),e(he,function(e,n){n.print("for"),n.space(),n.with_parens(function(){e.init?(e.init instanceof je?e.init.print(n):o(e.init,n,!0),n.print(";"),n.space()):n.print(";"),e.condition?(e.condition.print(n),n.print(";"),n.space()):n.print(";"),e.step&&e.step.print(n)}),n.space(),e._do_print_body(n)}),e(ve,function(e,n){n.print("for"),n.space(),n.with_parens(function(){e.init.print(n),n.space(),n.print("in"),n.space(),e.object.print(n)}),n.space(),e._do_print_body(n)}),e(_e,function(e,n){n.print("with"),n.space(),n.with_parens(function(){e.expression.print(n)}),n.space(),e._do_print_body(n)}),be.DEFMETHOD("_do_print",function(e,n){var t=this;n||e.print("function"),t.name&&(e.space(),t.name.print(e)),e.with_parens(function(){t.argnames.forEach(function(n,t){t&&e.comma(),n.print(e)})}),e.space(),r(t.body,e,!0)}),e(be,function(e,n){e._do_print(n)}),xe.DEFMETHOD("_do_print",function(e,n){e.print(n),this.value&&(e.space(),this.value.print(e)),e.semicolon()}),e(De,function(e,n){e._do_print(n,"return")}),e(ke,function(e,n){e._do_print(n,"throw")}),Fe.DEFMETHOD("_do_print",function(e,n){e.print(n),this.label&&(e.space(),this.label.print(e)),e.semicolon()}),e(Ce,function(e,n){e._do_print(n,"break")}),e(Be,function(e,n){e._do_print(n,"continue")}),e(Se,function(e,n){n.print("if"),n.space(),n.with_parens(function(){e.condition.print(n)}),n.space(),e.alternative?(i(e,n),n.space(),n.print("else"),n.space(),e.alternative instanceof Se?e.alternative.print(n):s(e.alternative,n)):e._do_print_body(n)}),e(Te,function(e,n){n.print("switch"),n.space(),n.with_parens(function(){e.expression.print(n)}),n.space();var t=e.body.length-1;t<0?n.print("{}"):n.with_block(function(){e.body.forEach(function(e,r){n.indent(!0),e.print(n),r<t&&e.body.length>0&&n.newline()})})}),$e.DEFMETHOD("_do_print_body",function(e){e.newline(),this.body.forEach(function(n){e.indent(),n.print(e),e.newline()})}),e(Oe,function(e,n){n.print("default:"),e._do_print_body(n)}),e(qe,function(e,n){n.print("case"),n.space(),e.expression.print(n),n.print(":"),e._do_print_body(n)}),e(ze,function(e,n){n.print("try"),n.space(),r(e.body,n),e.bcatch&&(n.space(),e.bcatch.print(n)),e.bfinally&&(n.space(),e.bfinally.print(n))}),e(Me,function(e,n){n.print("catch"),n.space(),n.with_parens(function(){e.argname.print(n)}),n.space(),r(e.body,n)}),e(He,function(e,n){n.print("finally"),n.space(),r(e.body,n)}),je.DEFMETHOD("_do_print",function(e,n){e.print(n),e.space(),this.definitions.forEach(function(n,t){t&&e.comma(),n.print(e)});var t=e.parent();(t instanceof he||t instanceof ve)&&t.init===this||e.semicolon()}),e(Ne,function(e,n){e._do_print(n,"var")}),e(Pe,function(e,n){e._do_print(n,"const")}),e(Re,function(e,n){if(e.name.print(n),e.value){n.space(),n.print("="),n.space();var t=n.parent(1),r=t instanceof he||t instanceof ve;o(e.value,n,r)}}),e(Ie,function(e,n){e.expression.print(n),e instanceof Ue&&!u(e,n)||n.with_parens(function(){e.args.forEach(function(e,t){t&&n.comma(),e.print(n)})})}),e(Ue,function(e,n){n.print("new"),n.space(),Ie.prototype._codegen(e,n)}),Le.DEFMETHOD("_do_print",function(e){this.car.print(e),this.cdr&&(e.comma(),e.should_break()&&(e.newline(),e.indent()),this.cdr.print(e))}),e(Le,function(e,n){e._do_print(n)}),e(Ye,function(e,n){var t=e.expression;t.print(n),t instanceof An&&t.getValue()>=0&&(/[xa-f.)]/i.test(n.last())||n.print(".")),n.print("."),n.add_mapping(e.end),n.print_name(e.property)}),e(We,function(e,n){e.expression.print(n),n.print("["),e.property.print(n),n.print("]")}),e(Ge,function(e,n){var t=e.operator;n.print(t),(/^[a-z]/i.test(t)||/[+-]$/.test(t)&&e.expression instanceof Ge&&/^[+-]/.test(e.expression.operator))&&n.space(),e.expression.print(n)}),e(Xe,function(e,n){e.expression.print(n),n.print(e.operator)}),e(Ze,function(e,n){var t=e.operator;e.left.print(n),">"==t[0]&&e.left instanceof Xe&&"--"==e.left.operator?n.print(" "):n.space(),n.print(t),("<"==t||"<<"==t)&&e.right instanceof Ge&&"!"==e.right.operator&&e.right.expression instanceof Ge&&"--"==e.right.expression.operator?n.print(" "):n.space(),e.right.print(n)}),e(Ke,function(e,n){e.condition.print(n),n.space(),n.print("?"),n.space(),e.consequent.print(n),n.space(),n.colon(),e.alternative.print(n)}),e(en,function(e,n){n.with_square(function(){var t=e.elements,r=t.length;r>0&&n.space(),t.forEach(function(e,t){t&&n.comma(),e.print(n),t===r-1&&e instanceof Cn&&n.comma()}),r>0&&n.space()})}),e(nn,function(e,n){e.properties.length>0?n.with_block(function(){e.properties.forEach(function(e,t){t&&(n.print(","),n.newline()),n.indent(),e.print(n)}),n.newline()}):n.print("{}")}),e(rn,function(e,n){var t=e.key,r=e.quote;n.option("quote_keys")?n.print_string(t+""):("number"==typeof t||!n.option("beautify")&&+t+""==t)&&parseFloat(t)>=0?n.print(f(t)):(zn(t)?n.option("screw_ie8"):H(t))?r&&n.option("keep_quoted_props")?n.print_string(t,r):n.print_name(t):n.print_string(t,r),n.colon(),e.value.print(n)}),e(on,function(e,n){n.print("set"),n.space(),e.key.print(n),e.value._do_print(n,!0)}),e(an,function(e,n){n.print("get"),n.space(),e.key.print(n),e.value._do_print(n,!0)}),e(sn,function(e,n){var t=e.definition();n.print_name(t?t.mangled_name||t.name:e.name)}),e(Cn,l),e(bn,function(e,n){n.print("this")}),e(yn,function(e,n){n.print(e.getValue())}),e(wn,function(e,n){n.print_string(e.getValue(),e.quote,_)}),e(An,function(e,n){v&&e.start&&null!=e.start.raw?n.print(e.start.raw):n.print(f(e.getValue()))}),e(En,function(e,n){var t=e.getValue().toString();n.option("ascii_only")?t=n.to_ascii(t):n.option("unescape_regexps")&&(t=t.split("\\\\").map(function(e){return e.replace(/\\u[0-9a-fA-F]{4}|\\x[0-9a-fA-F]{2}/g,function(e){var n=parseInt(e.substr(2),16);return a(n)?String.fromCharCode(n):e})}).join("\\\\")),n.print(t);var r=n.parent();r instanceof Ze&&/^in/.test(r.operator)&&r.left===e&&n.print(" ")}),d(ee,l),d(re,h),d(te,h),d(sn,h),d(Ee,h),d(ue,h),d(ce,l),d(be,h),d(Te,h),d($e,h),d(ae,h),d(ge,l),d(Ue,h),d(ze,h),d(Me,h),d(He,h),d(je,h),d(yn,h),d(on,function(e,n){n.add_mapping(e.start,e.key.name)}),d(an,function(e,n){n.add_mapping(e.start,e.key.name)}),d(tn,function(e,n){n.add_mapping(e.start,e.key)})}(),J.prototype=new L,f(J.prototype,{option:function(e){return this.options[e]},compress:function(e){this.option("expression")&&(e=e.process_expression(!0));for(var n=+this.options.passes||1,t=0;t<n&&t<3;++t)(t>0||this.option("reduce_vars"))&&e.reset_opt_flags(this,!0),e=e.transform(this);return this.option("expression")&&(e=e.process_expression(!1)),e},info:function(){"verbose"==this.options.warnings&&ee.warn.apply(ee,arguments)},warn:function(e,n){if(this.options.warnings){var t=m(e,n);t in this.warnings_produced||(this.warnings_produced[t]=!0,ee.warn.apply(ee,arguments))}},clear_warnings:function(){this.warnings_produced={}},before:function(e,n,t){if(e._squeezed)return e;var r=!1;e instanceof me&&(e=e.hoist_declarations(this),r=!0),n(e,this),n(e,this);var i=e.optimize(this);return r&&i instanceof me&&(i.drop_unused(this),n(i,this)),i===e&&(i._squeezed=!0),i}}),function(){function e(e,n){e.DEFMETHOD("optimize",function(e){var t=this;if(t._optimized)return t;if(e.has_directive("use asm"))return t;var r=n(t,e);return r._optimized=!0,r})}function n(e,n){for(var t,r=0;(t=e.parent(r++))&&!(t instanceof me);)if(t instanceof Me){t=t.argname.definition().scope;break}return t.find_variable(n)}function t(e,n,t){return t||(t={}),n&&(t.start||(t.start=n.start),t.end||(t.end=n.end)),new e(t)}function r(e,n){switch(typeof e){case"string":return t(wn,n,{value:e});case"number":return isNaN(e)?t(kn,n):isFinite(e)?1/e<0?t(Ge,n,{operator:"-",expression:t(An,n,{value:-e})}):t(An,n,{value:e}):e<0?t(Ge,n,{operator:"-",expression:t(Bn,n)}):t(Bn,n);case"boolean":return t(e?$n:Tn,n);case"undefined":return t(Fn,n);default:if(null===e)return t(Dn,n,{value:null});if(e instanceof RegExp)return t(En,n,{value:e});throw new Error(m("Can't handle constant of type: {type}",{type:typeof e}))}}function a(e,n,r){return e instanceof Ge&&"delete"==e.operator||e instanceof Ie&&e.expression===n&&(r instanceof Ve||r instanceof mn&&"eval"==r.name)?t(Le,n,{car:t(An,n,{value:0}),cdr:r}):r}function s(e){if(null===e)return[];if(e instanceof ae)return e.body;if(e instanceof se)return[];if(e instanceof ne)return[e];throw new Error("Can't convert thing to statement array")}function u(e){return null===e||(e instanceof se||e instanceof ae&&0==e.body.length)}function c(e){return e instanceof Te?e:(e instanceof he||e instanceof ve||e instanceof le)&&e.body instanceof ae?e.body:e}function f(e){return e instanceof Ie&&!(e instanceof Ue)&&(e.expression instanceof we||f(e.expression))}function _(e,n){function r(e,n){function i(e,n){return e instanceof mn&&B(e,n)}function o(r,o,c){if(i(r,o))return r;var l=a(o,r,w.value);return w.value=null,v.splice(y,1),0===v.length&&(e[d]=t(se,s),u=!0),p.reset_opt_flags(n),n.info("Collapsing "+(c?"constant":"variable")+" "+A+" [{file}:{line},{col}]",r.start),f=!0,l}for(var s=n.self(),u=!1,c=n.option("toplevel"),l=e.length;--l>=0;){var p=e[l];if(!(p instanceof je)){if([p,p.body,p.alternative,p.bcatch,p.bfinally].forEach(function(e){e&&e.body&&r(e.body,n)}),l<=0)break;var d=l-1,h=e[d];if(h instanceof je){var v=h.definitions;if(null!=v)for(var _={},m=!1,g=!1,b={},y=v.length;--y>=0;){var w=v[y];if(null==w.value)break;var A=w.name.name;if(!A||!A.length)break;if(A in _)break;_[A]=!0;var E=s.find_variable&&s.find_variable(A);if(E&&E.references&&1===E.references.length&&"arguments"!=A&&(c||!E.global)){var x=E.references[0];if(x.scope.uses_eval||x.scope.uses_with)break;if(w.value.is_constant()){var D=new L(function(e){var n=D.parent();return n instanceof fe&&(n.condition===e||n.init===e)?e:e===x?o(e,n,!0):void 0});p.transform(D)}else if(!(m|=g)){var k=w.value.has_side_effects(n);if(x.scope===s){var C=new F(function(e){e instanceof mn&&i(e,C.parent())&&(b[e.name]=g=!0)});w.value.walk(C);var S=!1,T=new L(function(e){if(S)return e;var n=T.parent();return e instanceof be||e instanceof ze||e instanceof _e||e instanceof qe||e instanceof fe||n instanceof Se&&e!==n.condition||n instanceof Ke&&e!==n.condition||e instanceof mn&&k&&!function(e,n){if(1===e.orig.length&&e.orig[0]instanceof dn)return!0;if(e.scope!==n)return!1;for(var t=e.references,r=0,i=t.length;r<i;r++)if(t[r].scope!==n)return!1;return!0}(e.definition(),s)||n instanceof Ze&&("&&"==n.operator||"||"==n.operator)&&e===n.right||n instanceof Te&&e!==n.expression?(m=S=!0,e):void 0},function(e){return S?e:e===x?(S=!0,o(e,T.parent(),!1)):(m|=e.has_side_effects(n))?(S=!0,e):g&&e instanceof mn&&e.name in b?(m=!0,S=!0,e):void 0});p.transform(T)}else m|=k}}else m=!0}}}}if(u)for(var $=e.length;--$>=0;)e.length>1&&e[$]instanceof se&&e.splice($,1);return e}function i(e){var n=[];return e.reduce(function(e,t){return t instanceof ae?(f=!0,e.push.apply(e,i(t.body))):t instanceof se?f=!0:t instanceof re?n.indexOf(t.value)<0?(e.push(t),n.push(t.value)):f=!0:e.push(t),e},[])}function o(e){for(var n=0,t=0;t<e.length;++t){var r=e[t];r instanceof Le?n+=r.len():n++}return n}function u(e,n){function r(e){i.pop();var t=o.body;return t instanceof Le?t.add(e):t=Le.cons(t,e),t.transform(n)}var i=[],o=null;return e.forEach(function(e){if(o)if(e instanceof he){var a={};try{o.body.walk(new F(function(e){if(e instanceof Ze&&"in"==e.operator)throw a})),!e.init||e.init instanceof je?e.init||(e.init=o.body.drop_side_effect_free(n),i.pop()):e.init=r(e.init)}catch(e){if(e!==a)throw e}}else e instanceof Se?e.condition=r(e.condition):e instanceof _e?e.expression=r(e.expression):e instanceof xe&&e.value?e.value=r(e.value):e instanceof xe?e.value=r(t(Fn,e).transform(n)):e instanceof Te&&(e.expression=r(e.expression));i.push(e),o=e instanceof ie?e:null}),i}var f,l=10;do{f=!1,n.option("angular")&&(e=function(e){function r(e){return/@ngInject/.test(e.value)}function i(e){return e.argnames.map(function(e){return t(wn,e,{value:e.name})})}function o(e,n){return t(en,e,{elements:n})}function a(e,n){return t(ie,e,{body:t(Qe,e,{operator:"=",left:t(Ye,n,{expression:t(mn,n,n),property:"$inject"}),right:o(e,i(e))})})}function s(e){e&&e.args&&(e.args.forEach(function(e,n,t){var a=e.start.comments_before;e instanceof be&&a.length&&r(a[0])&&(t[n]=o(e,i(e).concat(e)))}),e.expression&&e.expression.expression&&s(e.expression.expression))}return e.reduce(function(e,t){if(e.push(t),t.body&&t.body.args)s(t.body);else{var i=t.start,o=i.comments_before;if(o&&o.length>0){r(o.pop())&&(t instanceof Ae?e.push(a(t,t.name)):t instanceof je?t.definitions.forEach(function(n){n.value&&n.value instanceof be&&e.push(a(n.value,n.name))}):n.warn("Unknown statement marked with @ngInject [{file}:{line},{col}]",i))}}return e},[])}(e)),e=i(e),n.option("dead_code")&&(e=function(e,n){var t=!1,r=e.length,i=n.self();return e=e.reduce(function(e,r){if(t)k(n,r,e);else{if(r instanceof Fe){var o=n.loopcontrol_target(r);r instanceof Ce&&!(o instanceof fe)&&c(o)===i||r instanceof Be&&c(o)===i?r.label&&g(r.label.thedef.references,r):e.push(r)}else e.push(r);O(r)&&(t=!0)}return e},[]),f=e.length!=r,e}(e,n)),n.option("if_return")&&(e=function(e,n){var r=n.self(),i=function(e){for(var n=0,t=e.length;--t>=0;){var r=e[t];if(r instanceof Se&&r.body instanceof De&&++n>1)return!0}return!1}(e),o=r instanceof be,a=[];e:for(var u=e.length;--u>=0;){var l=e[u];switch(!0){case o&&l instanceof De&&!l.value&&0==a.length:f=!0;continue e;case l instanceof Se:if(l.body instanceof De){if((o&&0==a.length||a[0]instanceof De&&!a[0].value)&&!l.body.value&&!l.alternative){f=!0;var p=t(ie,l.condition,{body:l.condition});a.unshift(p);continue e}if(a[0]instanceof De&&l.body.value&&a[0].value&&!l.alternative){f=!0,l=l.clone(),l.alternative=a[0],a[0]=l.transform(n);continue e}if(i&&(0==a.length||a[0]instanceof De)&&l.body.value&&!l.alternative&&o){f=!0,l=l.clone(),l.alternative=a[0]||t(De,l,{value:null}),a[0]=l.transform(n);continue e}if(!l.body.value&&o){f=!0,l=l.clone(),l.condition=l.condition.negate(n);var d=s(l.alternative).concat(a),h=D(d);l.body=t(ae,l,{body:d}),l.alternative=null,a=h.concat([l.transform(n)]);continue e}if(n.option("sequences")&&u>0&&e[u-1]instanceof Se&&e[u-1].body instanceof De&&1==a.length&&o&&a[0]instanceof ie&&!l.alternative){f=!0,a.push(t(De,a[0],{value:null}).transform(n)),a.unshift(l);continue e}}var v=O(l.body),_=v instanceof Fe?n.loopcontrol_target(v):null;if(v&&(v instanceof De&&!v.value&&o||v instanceof Be&&r===c(_)||v instanceof Ce&&_ instanceof ae&&r===_)){v.label&&g(v.label.thedef.references,v),f=!0;var d=s(l.body).slice(0,-1);l=l.clone(),l.condition=l.condition.negate(n),l.body=t(ae,l,{body:s(l.alternative).concat(a)}),l.alternative=t(ae,l,{body:d}),a=[l.transform(n)];continue e}var v=O(l.alternative),_=v instanceof Fe?n.loopcontrol_target(v):null;if(v&&(v instanceof De&&!v.value&&o||v instanceof Be&&r===c(_)||v instanceof Ce&&_ instanceof ae&&r===_)){v.label&&g(v.label.thedef.references,v),f=!0,l=l.clone(),l.body=t(ae,l.body,{body:s(l.body).concat(a)}),l.alternative=t(ae,l.alternative,{body:s(l.alternative).slice(0,-1)}),a=[l.transform(n)];continue e}a.unshift(l);break;default:a.unshift(l)}}return a}(e,n)),n.sequences_limit>0&&(e=function(e,n){function r(){i=Le.from_array(i),i&&a.push(t(ie,i,{body:i})),i=[]}if(e.length<2)return e;var i=[],a=[];return e.forEach(function(e){if(e instanceof ie){o(i)>=n.sequences_limit&&r();var t=e.body;i.length>0&&(t=t.drop_side_effect_free(n)),t&&i.push(t)}else r(),a.push(e)}),r(),a=u(a,n),f=a.length!=e.length,a}(e,n)),n.option("join_vars")&&(e=function(e,n){var t=null;return e.reduce(function(e,n){return n instanceof je&&t&&t.TYPE==n.TYPE?(t.definitions=t.definitions.concat(n.definitions),f=!0):n instanceof he&&t instanceof Ne&&(!n.init||n.init.TYPE==t.TYPE)?(f=!0,e.pop(),n.init?n.init.definitions=t.definitions.concat(n.init.definitions):n.init=t,e.push(n),t=n):(t=n,e.push(n)),e},[])}(e,n)),n.option("collapse_vars")&&(e=r(e,n))}while(f&&l-- >0);return e}function D(e){for(var n=[],t=e.length-1;t>=0;--t){var r=e[t];r instanceof Ae&&(e.splice(t,1),n.unshift(r))}return n}function k(e,n,t){n instanceof Ae||e.warn("Dropping unreachable code [{file}:{line},{col}]",n.start),n.walk(new F(function(n){return n instanceof je?(e.warn("Declarations in unreachable code! [{file}:{line},{col}]",n.start),n.remove_initializers(),t.push(n),!0):n instanceof Ae?(t.push(n),!0):n instanceof me||void 0}))}function C(e,n){return e.is_undefined||e instanceof Fn||e instanceof Ge&&"void"==e.operator&&!e.expression.has_side_effects(n)}function B(e,n){return n instanceof Je&&j(n.operator)?n.expression:n instanceof Qe&&n.left===e?e:void 0}function S(e,n){return e.print_to_string().length>n.print_to_string().length?n:e}function T(e,n){return S(t(ie,e,{body:e}),t(ie,n,{body:n})).body}function $(e,n,t){return(x(e)?T:S)(n,t)}function O(e){return e&&e.aborts()}function q(e,n){function r(r){r=s(r),e.body instanceof ae?(e.body=e.body.clone(),e.body.body=r.concat(e.body.body.slice(1)),e.body=e.body.transform(n)):e.body=t(ae,e.body,{body:r}).transform(n),q(e,n)}var i=e.body instanceof ae?e.body.body[0]:e.body;i instanceof Se&&(i.body instanceof Ce&&n.loopcontrol_target(i.body)===n.self()?(e.condition?e.condition=t(Ze,e.condition,{left:e.condition,operator:"&&",right:i.condition.negate(n)}):e.condition=i.condition.negate(n),r(i.alternative)):i.alternative instanceof Ce&&n.loopcontrol_target(i.alternative)===n.self()&&(e.condition?e.condition=t(Ze,e.condition,{left:e.condition,operator:"&&",right:i.condition}):e.condition=i.condition,r(i.body)))}function z(e,n){return e instanceof mn||e.TYPE===n.TYPE}function M(e,n){return n.option("booleans")&&n.in_boolean_context()?$(n,e,t(Le,e,{car:e,cdr:t($n,e)}).optimize(n)):e}e(ee,function(e,n){return e}),ee.DEFMETHOD("equivalent_to",function(e){return this.TYPE==e.TYPE&&this.print_to_string()==e.print_to_string()}),ee.DEFMETHOD("process_expression",function(e,n){var r=this,i=new L(function(o){if(e&&o instanceof ie)return t(De,o,{value:o.body});if(!e&&o instanceof De){if(n){var a=o.value&&o.value.drop_side_effect_free(n,!0);return a?t(ie,o,{body:a}):t(se,o)}return t(ie,o,{body:o.value||t(Ge,o,{operator:"void",expression:t(An,o,{value:0})})})}if(o instanceof be&&o!==r)return o;if(o instanceof oe){var s=o.body.length-1;s>=0&&(o.body[s]=o.body[s].transform(i))}return o instanceof Se&&(o.body=o.body.transform(i),o.alternative&&(o.alternative=o.alternative.transform(i))),o instanceof _e&&(o.body=o.body.transform(i)),o});return r.transform(i)}),ee.DEFMETHOD("reset_opt_flags",function(e,n){function r(e,n){l[e.id]=n}function i(e){if(l[e.id]){if(null==e.fixed){var n=e.orig[0];if(n instanceof pn||"arguments"==n.name)return!1;e.fixed=t(Fn,n)}return!0}}function o(){l=Object.create(l)}function a(){l=Object.getPrototypeOf(l)}function s(e){f||!e.global||e.orig[0]instanceof ln?e.fixed=void 0:e.fixed=!1,e.references=[],e.should_replace=void 0}function u(e,n,t){var r=d.parent(n);return!!(B(e,r)||!t&&r instanceof Ie&&r.expression===e)||(r instanceof Ve&&r.expression===e?!t&&u(r,n+1):void 0)}var c=n&&e.option("reduce_vars"),f=e.option("toplevel"),l=Object.create(null),p=new F(function(e){if(e instanceof sn){var n=e.definition();e instanceof mn&&n.references.push(e),n.fixed=!1}}),d=new F(function(e,n){if(e._squeezed=!1,e._optimized=!1,c){if(e instanceof ge&&e.globals.each(s),e instanceof me&&e.variables.each(s),e instanceof mn){var h=e.definition();h.references.push(e),void 0!==h.fixed&&i(h)&&!u(e,0,e.fixed_value()instanceof be)||(h.fixed=!1)}if(e instanceof vn&&(e.definition().fixed=!1),e instanceof Re){var h=e.name.definition();if(null==h.fixed)return e.value?(h.fixed=function(){return e.value},r(h,!1),n()):h.fixed=null,r(h,!0),!0;e.value&&(h.fixed=!1)}if(e instanceof Ae){var h=e.name.definition()
;!f&&h.global||i(h)?h.fixed=!1:(h.fixed=e,r(h,!0));var v=l;return l=Object.create(null),n(),l=v,!0}var _;if(e instanceof we&&!e.name&&(_=d.parent())instanceof Ie&&_.expression===e&&e.argnames.forEach(function(e,n){var i=e.definition();i.fixed=function(){return _.args[n]||t(Fn,_)},r(i,!0)}),e instanceof Se||e instanceof le)return e.condition.walk(d),o(),e.body.walk(d),a(),e.alternative&&(o(),e.alternative.walk(d),a()),!0;if(e instanceof ce)return o(),e.body.walk(d),a(),!0;if(e instanceof he)return e.init&&e.init.walk(d),o(),e.condition&&e.condition.walk(d),e.body.walk(d),e.step&&e.step.walk(d),a(),!0;if(e instanceof ve)return e.init.walk(p),e.object.walk(d),o(),e.body.walk(d),a(),!0;if(e instanceof Me||e instanceof $e)return o(),n(),a(),!0}});this.walk(d)}),mn.DEFMETHOD("fixed_value",function(){var e=this.definition().fixed;return!e||e instanceof ee?e:e()}),function(e){function n(e){return/strict/.test(e)}ee.DEFMETHOD("may_eq_null",function(e){var n=e.option("pure_getters");return!n||this._eq_null(n)}),e(ee,n),e(Dn,d),e(Fn,d),e(yn,p),e(en,p),e(nn,p),e(we,p),e(Xe,p),e(Ge,function(){return"void"==this.operator}),e(Ze,function(e){switch(this.operator){case"&&":return this.left._eq_null(e);case"||":return this.left._eq_null(e)&&this.right._eq_null(e);default:return!1}}),e(Qe,function(e){return"="==this.operator&&this.right._eq_null(e)}),e(Ke,function(e){return this.consequent._eq_null(e)||this.alternative._eq_null(e)}),e(Le,function(e){return this.cdr._eq_null(e)}),e(mn,function(e){if(this.is_undefined)return!0;if(!n(e))return!1;var t=this.fixed_value();return!t||t._eq_null(e)})}(function(e,n){e.DEFMETHOD("_eq_null",n)}),function(e){var n=["!","delete"],t=["in","instanceof","==","!=","===","!==","<","<=",">=",">"];e(ee,p),e(Ge,function(){return i(this.operator,n)}),e(Ze,function(){return i(this.operator,t)||("&&"==this.operator||"||"==this.operator)&&this.left.is_boolean()&&this.right.is_boolean()}),e(Ke,function(){return this.consequent.is_boolean()&&this.alternative.is_boolean()}),e(Qe,function(){return"="==this.operator&&this.right.is_boolean()}),e(Le,function(){return this.cdr.is_boolean()}),e($n,d),e(Tn,d)}(function(e,n){e.DEFMETHOD("is_boolean",n)}),function(e){e(ee,p),e(An,d);var n=y("+ - ~ ++ --");e(Je,function(){return n(this.operator)});var t=y("- * / % & | ^ << >> >>>");e(Ze,function(e){return t(this.operator)||"+"==this.operator&&this.left.is_number(e)&&this.right.is_number(e)}),e(Qe,function(e){return t(this.operator.slice(0,-1))||"="==this.operator&&this.right.is_number(e)}),e(Le,function(e){return this.cdr.is_number(e)}),e(Ke,function(e){return this.consequent.is_number(e)&&this.alternative.is_number(e)})}(function(e,n){e.DEFMETHOD("is_number",n)}),function(e){e(ee,p),e(wn,d),e(Ge,function(){return"typeof"==this.operator}),e(Ze,function(e){return"+"==this.operator&&(this.left.is_string(e)||this.right.is_string(e))}),e(Qe,function(e){return("="==this.operator||"+="==this.operator)&&this.right.is_string(e)}),e(Le,function(e){return this.cdr.is_string(e)}),e(Ke,function(e){return this.consequent.is_string(e)&&this.alternative.is_string(e)})}(function(e,n){e.DEFMETHOD("is_string",n)});var j=y("delete ++ --");!function(e){function n(e,i){if(e instanceof ee)return t(e.CTOR,i,e);if(Array.isArray(e))return t(en,i,{elements:e.map(function(e){return n(e,i)})});if(e&&"object"==typeof e){var o=[];for(var a in e)o.push(t(rn,i,{key:a,value:n(e[a],i)}));return t(nn,i,{properties:o})}return r(e,i)}ee.DEFMETHOD("resolve_defines",function(e){if(e.option("global_defs")){var n=this._find_defs(e,"");if(n){var t,r=this,i=0;do{t=r,r=e.parent(i++)}while(r instanceof Ve&&r.expression===t);if(!B(t,r))return n;e.warn("global_defs "+this.print_to_string()+" redefined [{file}:{line},{col}]",this.start)}}}),e(ee,l),e(Ye,function(e,n){return this.expression._find_defs(e,"."+this.property+n)}),e(mn,function(e,t){if(this.global()){var r,i=e.option("global_defs");if(i&&E(i,r=this.name+t)){var o=n(i[r],this),a=e.find_parent(ge);return o.walk(new F(function(e){e instanceof mn&&(e.scope=a,e.thedef=a.def_global(e))})),o}}})}(function(e,n){e.DEFMETHOD("_find_defs",n)}),function(e){function n(e,n){if(!n)throw new Error("Compressor must be passed");return e._eval(n)}ee.DEFMETHOD("evaluate",function(n){if(!n.option("evaluate"))return this;try{var t=this._eval(n);return!t||t instanceof RegExp||"object"!=typeof t?t:this}catch(n){if(n!==e)throw n;return this}});var t=y("! ~ - + void");ee.DEFMETHOD("is_constant",function(){return this instanceof yn?!(this instanceof En):this instanceof Ge&&this.expression instanceof yn&&t(this.operator)}),ee.DEFMETHOD("constant_value",function(e){if(this instanceof yn&&!(this instanceof En))return this.value;if(this instanceof Ge&&this.expression instanceof yn)switch(this.operator){case"!":return!this.expression.value;case"~":return~this.expression.value;case"-":return-this.expression.value;case"+":return+this.expression.value;default:throw new Error(m("Cannot evaluate unary expression {value}",{value:this.print_to_string()}))}var n=this.evaluate(e);if(n!==this)return n;throw new Error(m("Cannot evaluate constant [{file}:{line},{col}]",this.start))}),e(ne,function(){throw new Error(m("Cannot evaluate a statement [{file}:{line},{col}]",this.start))}),e(be,function(){throw e}),e(ee,function(){throw e}),e(yn,function(){return this.getValue()}),e(en,function(t){if(t.option("unsafe"))return this.elements.map(function(e){return n(e,t)});throw e}),e(nn,function(t){if(t.option("unsafe")){for(var r={},i=0,o=this.properties.length;i<o;i++){var a=this.properties[i],s=a.key;if(s instanceof sn?s=s.name:s instanceof ee&&(s=n(s,t)),"function"==typeof Object.prototype[s])throw e;r[s]=n(a.value,t)}return r}throw e}),e(Ge,function(t){var r=this.expression;switch(this.operator){case"!":return!n(r,t);case"typeof":if(r instanceof we)return"function";if((r=n(r,t))instanceof RegExp)throw e;return typeof r;case"void":return void n(r,t);case"~":return~n(r,t);case"-":return-n(r,t);case"+":return+n(r,t)}throw e}),e(Ze,function(t){var r,i=this.left,o=this.right;switch(this.operator){case"&&":r=n(i,t)&&n(o,t);break;case"||":r=n(i,t)||n(o,t);break;case"|":r=n(i,t)|n(o,t);break;case"&":r=n(i,t)&n(o,t);break;case"^":r=n(i,t)^n(o,t);break;case"+":r=n(i,t)+n(o,t);break;case"*":r=n(i,t)*n(o,t);break;case"/":r=n(i,t)/n(o,t);break;case"%":r=n(i,t)%n(o,t);break;case"-":r=n(i,t)-n(o,t);break;case"<<":r=n(i,t)<<n(o,t);break;case">>":r=n(i,t)>>n(o,t);break;case">>>":r=n(i,t)>>>n(o,t);break;case"==":r=n(i,t)==n(o,t);break;case"===":r=n(i,t)===n(o,t);break;case"!=":r=n(i,t)!=n(o,t);break;case"!==":r=n(i,t)!==n(o,t);break;case"<":r=n(i,t)<n(o,t);break;case"<=":r=n(i,t)<=n(o,t);break;case">":r=n(i,t)>n(o,t);break;case">=":r=n(i,t)>=n(o,t);break;default:throw e}if(isNaN(r)&&t.find_parent(_e))throw e;return r}),e(Ke,function(e){return n(this.condition,e)?n(this.consequent,e):n(this.alternative,e)}),e(mn,function(t){if(this._evaluating)throw e;this._evaluating=!0;try{var r=this.fixed_value();if(t.option("reduce_vars")&&r)return t.option("unsafe")?(E(r,"_evaluated")||(r._evaluated=n(r,t)),r._evaluated):n(r,t)}finally{this._evaluating=!1}throw e}),e(Ve,function(t){if(t.option("unsafe")){var r=this.property;r instanceof ee&&(r=n(r,t));var i=n(this.expression,t);if(i&&E(i,r))return i[r]}throw e})}(function(e,n){e.DEFMETHOD("_eval",n)}),function(e){function n(e){return t(Ge,e,{operator:"!",expression:e})}function r(e,r,i){var o=n(e);if(i){var a=t(ie,r,{body:r});return S(o,a)===a?r:o}return S(o,r)}e(ee,function(){return n(this)}),e(ne,function(){throw new Error("Cannot negate a statement")}),e(we,function(){return n(this)}),e(Ge,function(){return"!"==this.operator?this.expression:n(this)}),e(Le,function(e){var n=this.clone();return n.cdr=n.cdr.negate(e),n}),e(Ke,function(e,n){var t=this.clone();return t.consequent=t.consequent.negate(e),t.alternative=t.alternative.negate(e),r(this,t,n)}),e(Ze,function(e,t){var i=this.clone(),o=this.operator;if(e.option("unsafe_comps"))switch(o){case"<=":return i.operator=">",i;case"<":return i.operator=">=",i;case">=":return i.operator="<",i;case">":return i.operator="<=",i}switch(o){case"==":return i.operator="!=",i;case"!=":return i.operator="==",i;case"===":return i.operator="!==",i;case"!==":return i.operator="===",i;case"&&":return i.operator="||",i.left=i.left.negate(e,t),i.right=i.right.negate(e),r(this,i,t);case"||":return i.operator="&&",i.left=i.left.negate(e,t),i.right=i.right.negate(e),r(this,i,t)}return n(this)})}(function(e,n){e.DEFMETHOD("negate",function(e,t){return n.call(this,e,t)})}),Ie.DEFMETHOD("has_pure_annotation",function(e){if(!e.option("side_effects"))return!1;if(void 0!==this.pure)return this.pure;var n,t,r=!1;return this.start&&(n=this.start.comments_before)&&n.length&&/[@#]__PURE__/.test((t=n[n.length-1]).value)&&(r=t),this.pure=r}),function(e){function n(e,n){for(var t=e.length;--t>=0;)if(e[t].has_side_effects(n))return!0;return!1}e(ee,d),e(se,p),e(yn,p),e(bn,p),e(Ie,function(e){if(!this.has_pure_annotation(e)&&e.pure_funcs(this))return!0;for(var n=this.args.length;--n>=0;)if(this.args[n].has_side_effects(e))return!0;return!1}),e(oe,function(e){return n(this.body,e)}),e(Te,function(e){return this.expression.has_side_effects(e)||n(this.body,e)}),e(qe,function(e){return this.expression.has_side_effects(e)||n(this.body,e)}),e(ze,function(e){return n(this.body,e)||this.bcatch&&this.bcatch.has_side_effects(e)||this.bfinally&&this.bfinally.has_side_effects(e)}),e(Se,function(e){return this.condition.has_side_effects(e)||this.body&&this.body.has_side_effects(e)||this.alternative&&this.alternative.has_side_effects(e)}),e(ce,function(e){return this.body.has_side_effects(e)}),e(ie,function(e){return this.body.has_side_effects(e)}),e(Ae,d),e(we,p),e(Ze,function(e){return this.left.has_side_effects(e)||this.right.has_side_effects(e)}),e(Qe,d),e(Ke,function(e){return this.condition.has_side_effects(e)||this.consequent.has_side_effects(e)||this.alternative.has_side_effects(e)}),e(Je,function(e){return j(this.operator)||this.expression.has_side_effects(e)}),e(mn,function(e){return this.undeclared()}),e(nn,function(e){return n(this.properties,e)}),e(tn,function(e){return this.value.has_side_effects(e)}),e(en,function(e){return n(this.elements,e)}),e(Ye,function(e){return this.expression.may_eq_null(e)||this.expression.has_side_effects(e)}),e(We,function(e){return this.expression.may_eq_null(e)||this.expression.has_side_effects(e)||this.property.has_side_effects(e)}),e(Le,function(e){return this.car.has_side_effects(e)||this.cdr.has_side_effects(e)})}(function(e,n){e.DEFMETHOD("has_side_effects",n)}),function(e){function n(){var e=this.body.length;return e>0&&O(this.body[e-1])}e(ne,v),e(Ee,h),e(ae,n),e($e,n),e(Se,function(){return this.alternative&&O(this.body)&&O(this.alternative)&&this})}(function(e,n){e.DEFMETHOD("aborts",n)}),e(re,function(e,n){return n.has_directive(e.value)!==e?t(se,e):e}),e(te,function(e,n){return n.option("drop_debugger")?t(se,e):e}),e(ce,function(e,n){return e.body instanceof Ce&&n.loopcontrol_target(e.body)===e.body?t(se,e):0==e.label.references.length?e.body:e}),e(oe,function(e,n){return e.body=_(e.body,n),e}),e(ae,function(e,n){switch(e.body=_(e.body,n),e.body.length){case 1:return e.body[0];case 0:return t(se,e)}return e}),me.DEFMETHOD("drop_unused",function(e){var n=this;if(e.has_directive("use asm"))return n;var r=e.option("toplevel");if(e.option("unused")&&(!(n instanceof ge)||r)&&!n.uses_eval&&!n.uses_with){var i=!/keep_assign/.test(e.option("unused")),o=/funcs/.test(r),s=/vars/.test(r);n instanceof ge&&1!=r||(o=s=!0);var c=[],f=Object.create(null);n instanceof ge&&e.top_retain&&n.variables.each(function(n){!e.top_retain(n)||n.id in f||(f[n.id]=!0,c.push(n))});var l=new A,p=this,d=new F(function(t,r){if(t!==n){if(t instanceof Ae){if(!o&&p===n){var a=t.name.definition();a.id in f||(f[a.id]=!0,c.push(a))}return l.add(t.name.name,t),!0}if(t instanceof je&&p===n)return t.definitions.forEach(function(n){if(!s){var t=n.name.definition();t.id in f||(f[t.id]=!0,c.push(t))}n.value&&(l.add(n.name.name,n.value),n.value.has_side_effects(e)&&n.value.walk(d))}),!0;if(i&&t instanceof Qe&&"="==t.operator&&t.left instanceof mn&&p===n)return t.right.walk(d),!0;if(t instanceof mn){var a=t.definition();return a.id in f||(f[a.id]=!0,c.push(a)),!0}if(t instanceof me){var u=p;return p=t,r(),p=u,!0}}});n.walk(d);for(var h=0;h<c.length;++h)c[h].orig.forEach(function(e){var n=l.get(e.name);n&&n.forEach(function(e){var n=new F(function(e){if(e instanceof mn){var n=e.definition();n.id in f||(f[n.id]=!0,c.push(n))}});e.walk(n)})});var v=new L(function(r,c,l){if(r instanceof we&&r.name&&!e.option("keep_fnames")){var p=r.name.definition();p.id in f&&!(p.orig.length>1)||(r.name=null)}if(r instanceof be&&!(r instanceof ye))for(var d=!e.option("keep_fargs"),h=r.argnames,_=h.length;--_>=0;){var m=h[_];m.definition().id in f?d=!1:(m.__unused=!0,d&&(h.pop(),e[m.unreferenced()?"warn":"info"]("Dropping unused function argument {name} [{file}:{line},{col}]",{name:m.name,file:m.start.file,line:m.start.line,col:m.start.col})))}if(o&&r instanceof Ae&&r!==n)return r.name.definition().id in f?r:(e[r.name.unreferenced()?"warn":"info"]("Dropping unused function {name} [{file}:{line},{col}]",{name:r.name.name,file:r.name.start.file,line:r.name.start.line,col:r.name.start.col}),t(se,r));if(s&&r instanceof je&&!(v.parent()instanceof ve)){var p=r.definitions.filter(function(n){n.value&&(n.value=n.value.transform(v));var t=n.name.definition();if(t.id in f)return!0;if(t.orig[0]instanceof vn)return n.value=n.value&&n.value.drop_side_effect_free(e),!0;var r={name:n.name.name,file:n.name.start.file,line:n.name.start.line,col:n.name.start.col};return n.value&&(n._unused_side_effects=n.value.drop_side_effect_free(e))?(e.warn("Side effects in initialization of unused variable {name} [{file}:{line},{col}]",r),!0):(e[n.name.unreferenced()?"warn":"info"]("Dropping unused variable {name} [{file}:{line},{col}]",r),!1)});p=b(p,function(e,n){return!e.value&&n.value?-1:!n.value&&e.value?1:0});for(var g=[],_=0;_<p.length;){var y=p[_];y._unused_side_effects?(g.push(y._unused_side_effects),p.splice(_,1)):(g.length>0&&(g.push(y.value),y.value=Le.from_array(g),g=[]),++_)}return g=g.length>0?t(ae,r,{body:[t(ie,r,{body:Le.from_array(g)})]}):null,0!=p.length||g?0==p.length?l?K.splice(g.body):g:(r.definitions=p,g?(g.body.unshift(r),l?K.splice(g.body):g):r):t(se,r)}if(s&&i&&r instanceof Qe&&"="==r.operator&&r.left instanceof mn){var p=r.left.definition();if(!(p.id in f)&&n.variables.get(p.name)===p)return a(v.parent(),r,r.right.transform(v))}if(r instanceof he){if(c(r,this),r.init instanceof ae){var w=r.init.body.slice(0,-1);return r.init=r.init.body.slice(-1)[0].body,w.push(r),l?K.splice(w):t(ae,r,{body:w})}if(u(r.init))return r.init=null,r}return r instanceof me&&r!==n?r:void 0});n.transform(v)}}),me.DEFMETHOD("hoist_declarations",function(e){var n=this;if(e.has_directive("use asm"))return n;var r=e.option("hoist_funs"),i=e.option("hoist_vars");if(r||i){var a=[],s=[],u=new A,c=0,f=0;n.walk(new F(function(e){return e instanceof me&&e!==n||(e instanceof Ne?(++f,!0):void 0)})),i=i&&f>1;var l=new L(function(o){if(o!==n){if(o instanceof re)return a.push(o),t(se,o);if(o instanceof Ae&&r)return s.push(o),t(se,o);if(o instanceof Ne&&i){o.definitions.forEach(function(e){u.set(e.name.name,e),++c});var f=o.to_assignments(e),p=l.parent();if(p instanceof ve&&p.init===o){if(null==f){var d=o.definitions[0].name;return t(mn,d,d)}return f}return p instanceof he&&p.init===o?f:f?t(ie,o,{body:f}):t(se,o)}if(o instanceof me)return o}});if(n=n.transform(l),c>0){var p=[];if(u.each(function(e,t){n instanceof be&&o(function(n){return n.name==e.name.name},n.argnames)?u.del(t):(e=e.clone(),e.value=null,p.push(e),u.set(t,e))}),p.length>0){for(;0<n.body.length;){if(n.body[0]instanceof ie){var d,h,v=n.body[0].body;if(v instanceof Qe&&"="==v.operator&&(d=v.left)instanceof sn&&u.has(d.name)){var _=u.get(d.name);if(_.value)break;_.value=v.right,g(p,_),p.push(_),n.body.splice(0,1);continue}if(v instanceof Le&&(h=v.car)instanceof Qe&&"="==h.operator&&(d=h.left)instanceof sn&&u.has(d.name)){var _=u.get(d.name);if(_.value)break;_.value=h.right,g(p,_),p.push(_),n.body[0].body=v.cdr;continue}}if(n.body[0]instanceof se)n.body.splice(0,1);else{if(!(n.body[0]instanceof ae))break;var m=[0,1].concat(n.body[0].body);n.body.splice.apply(n.body,m)}}p=t(Ne,n,{definitions:p}),s.push(p)}}n.body=a.concat(s,n.body)}return n}),function(e){function n(e,n,t){for(var r=[],i=!1,o=0,a=e.length;o<a;o++){var s=e[o].drop_side_effect_free(n,t);i|=s!==e[o],s&&(r.push(s),t=!1)}return i?r.length?r:null:e}e(ee,h),e(yn,v),e(bn,v),e(Ie,function(e,t){if(!this.has_pure_annotation(e)&&e.pure_funcs(this)){if(this.expression instanceof we&&(!this.expression.name||!this.expression.name.definition().references.length)){var r=this.clone();return r.expression=r.expression.process_expression(!1,e),r}return this}this.pure&&(e.warn("Dropping __PURE__ call [{file}:{line},{col}]",this.start),this.pure.value=this.pure.value.replace(/[@#]__PURE__/g," "));var i=n(this.args,e,t);return i&&Le.from_array(i)}),e(we,v),e(Ze,function(e,n){var r=this.right.drop_side_effect_free(e);if(!r)return this.left.drop_side_effect_free(e,n);switch(this.operator){case"&&":case"||":if(r===this.right)return this;var i=this.clone();return i.right=r,i;default:var o=this.left.drop_side_effect_free(e,n);return o?t(Le,this,{car:o,cdr:r}):this.right.drop_side_effect_free(e,n)}}),e(Qe,h),e(Ke,function(e){var n=this.consequent.drop_side_effect_free(e),r=this.alternative.drop_side_effect_free(e);if(n===this.consequent&&r===this.alternative)return this;if(!n)return r?t(Ze,this,{operator:"||",left:this.condition,right:r}):this.condition.drop_side_effect_free(e);if(!r)return t(Ze,this,{operator:"&&",left:this.condition,right:n});var i=this.clone();return i.consequent=n,i.alternative=r,i}),e(Je,function(e,n){if(j(this.operator))return this;if("typeof"==this.operator&&this.expression instanceof mn)return null;var r=this.expression.drop_side_effect_free(e,n);return n&&this instanceof Ge&&f(r)?r===this.expression&&1===this.operator.length?this:t(Ge,this,{operator:1===this.operator.length?this.operator:"!",expression:r}):r}),e(mn,function(){return this.undeclared()?this:null}),e(nn,function(e,t){var r=n(this.properties,e,t);return r&&Le.from_array(r)}),e(tn,function(e,n){return this.value.drop_side_effect_free(e,n)}),e(en,function(e,t){var r=n(this.elements,e,t);return r&&Le.from_array(r)}),e(Ye,function(e,n){return this.expression.may_eq_null(e)?this:this.expression.drop_side_effect_free(e,n)}),e(We,function(e,n){if(this.expression.may_eq_null(e))return this;var r=this.expression.drop_side_effect_free(e,n);if(!r)return this.property.drop_side_effect_free(e,n);var i=this.property.drop_side_effect_free(e);return i?t(Le,this,{car:r,cdr:i}):r}),e(Le,function(e){var n=this.cdr.drop_side_effect_free(e);return n===this.cdr?this:n?t(Le,this,{car:this.car,cdr:n}):this.car})}(function(e,n){e.DEFMETHOD("drop_side_effect_free",n)}),e(ie,function(e,n){if(n.option("side_effects")){var r=e.body,i=r.drop_side_effect_free(n,!0);if(!i)return n.warn("Dropping side-effect-free statement [{file}:{line},{col}]",e.start),t(se,e);if(i!==r)return t(ie,e,{body:i})}return e}),e(le,function(e,n){if(!n.option("loops"))return e;var r=e.condition.evaluate(n);if(r!==e.condition){if(r)return t(he,e,{body:e.body});if(n.option("dead_code")&&e instanceof de){var i=[];return k(n,e.body,i),t(ae,e,{body:i})}if(e instanceof pe){var o=!1,a=new F(function(n){return!!(n instanceof me||o)||(n instanceof Fe&&a.loopcontrol_target(n)===e?o=!0:void 0)});if(e.walk(a),!o)return e.body}}return e instanceof de?t(he,e,e).optimize(n):e}),e(he,function(e,n){if(!n.option("loops"))return e;if(e.condition){var i=e.condition.evaluate(n);if(n.option("dead_code")&&!i){var o=[];return e.init instanceof ne?o.push(e.init):e.init&&o.push(t(ie,e.init,{body:e.init})),k(n,e.body,o),t(ae,e,{body:o})}i!==e.condition&&(i=r(i,e.condition).transform(n),e.condition=S(i,e.condition))}return q(e,n),e}),e(Se,function(e,n){if(u(e.alternative)&&(e.alternative=null),!n.option("conditionals"))return e;var i=e.condition.evaluate(n);if(i!==e.condition){if(i){if(n.warn("Condition always true [{file}:{line},{col}]",e.condition.start),n.option("dead_code")){var o=[];return e.alternative&&k(n,e.alternative,o),o.push(e.body),t(ae,e,{body:o}).optimize(n)}}else if(n.warn("Condition always false [{file}:{line},{col}]",e.condition.start),n.option("dead_code")){var o=[];return k(n,e.body,o),e.alternative&&o.push(e.alternative),t(ae,e,{body:o}).optimize(n)}i=r(i,e.condition).transform(n),e.condition=S(i,e.condition)}var a=e.condition.negate(n),s=e.condition.print_to_string().length,c=a.print_to_string().length,f=c<s;if(e.alternative&&f){f=!1,e.condition=a;var l=e.body;e.body=e.alternative||t(se,e),e.alternative=l}if(u(e.body)&&u(e.alternative))return t(ie,e.condition,{body:e.condition.clone()}).optimize(n);if(e.body instanceof ie&&e.alternative instanceof ie)return t(ie,e,{body:t(Ke,e,{condition:e.condition,consequent:e.body.body,alternative:e.alternative.body})}).optimize(n);if(u(e.alternative)&&e.body instanceof ie)return s===c&&!f&&e.condition instanceof Ze&&"||"==e.condition.operator&&(f=!0),f?t(ie,e,{body:t(Ze,e,{operator:"||",left:a,right:e.body.body})}).optimize(n):t(ie,e,{body:t(Ze,e,{operator:"&&",left:e.condition,right:e.body.body})}).optimize(n);if(e.body instanceof se&&e.alternative instanceof ie)return t(ie,e,{body:t(Ze,e,{operator:"||",left:e.condition,right:e.alternative.body})}).optimize(n);if(e.body instanceof xe&&e.alternative instanceof xe&&e.body.TYPE==e.alternative.TYPE)return t(e.body.CTOR,e,{value:t(Ke,e,{condition:e.condition,consequent:e.body.value||t(Fn,e.body),alternative:e.alternative.value||t(Fn,e.alternative)}).transform(n)}).optimize(n);if(e.body instanceof Se&&!e.body.alternative&&!e.alternative&&(e=t(Se,e,{condition:t(Ze,e.condition,{operator:"&&",left:e.condition,right:e.body.condition}),body:e.body.body,alternative:null})),O(e.body)&&e.alternative){var p=e.alternative;return e.alternative=null,t(ae,e,{body:[e,p]}).optimize(n)}if(O(e.alternative)){var d=e.body;return e.body=e.alternative,e.condition=f?a:e.condition.negate(n),e.alternative=null,t(ae,e,{body:[e,d]}).optimize(n)}return e}),e(Te,function(e,n){function i(e,t){t&&!O(t)?t.body=t.body.concat(e.body):k(n,e,f)}if(!n.option("switches"))return e;var o,a=e.expression.evaluate(n);if(a!==e.expression){var s=r(a,e.expression).transform(n);e.expression=S(s,e.expression)}if(!n.option("dead_code"))return e;for(var u,c,f=[],l=[],p=0,d=e.body.length;p<d&&!c;p++){if((o=e.body[p])instanceof Oe)u?i(o,l[l.length-1]):u=o;else if(a!==e.expression){var h=o.expression.evaluate(n);if(h===a){if(c=o,u){var v=l.indexOf(u);l.splice(v,1),i(u,l[v-1]),u=null}}else if(h!==o.expression){i(o,l[l.length-1]);continue}}if(O(o)){var _=l[l.length-1];O(_)&&_.body.length==o.body.length&&t(ae,_,_).equivalent_to(t(ae,o,o))&&(_.body=[])}l.push(o)}for(;p<d;)i(e.body[p++],l[l.length-1]);for(l.length>0&&(l[0].body=f.concat(l[0].body)),e.body=l;o=l[l.length-1];){var m=o.body[o.body.length-1];if(m instanceof Ce&&n.loopcontrol_target(m)===e&&o.body.pop(),o.body.length||o instanceof qe&&(u||o.expression.has_side_effects(n)))break;l.pop()===u&&(u=null)}if(0==l.length)return t(ae,e,{body:f.concat(t(ie,e.expression,{body:e.expression}))}).optimize(n);if(1==l.length&&(l[0]===c||l[0]===u)){var g=!1,b=new F(function(n){if(g||n instanceof be||n instanceof ie)return!0;n instanceof Ce&&b.loopcontrol_target(n)===e&&(g=!0)});if(e.walk(b),!g)return l=l[0].body.slice(),l.unshift(t(ie,e.expression,{body:e.expression})),t(ae,e,{body:l}).optimize(n)}return e}),e(ze,function(e,n){if(e.body=_(e.body,n),e.bcatch&&e.bfinally&&w(e.bfinally.body,u)&&(e.bfinally=null),w(e.body,u)){var r=[];return e.bcatch&&k(n,e.bcatch,r),e.bfinally&&(r=r.concat(e.bfinally.body)),r.length>0?t(ae,e,{body:r}).optimize(n):t(se,e)}return e}),je.DEFMETHOD("remove_initializers",function(){this.definitions.forEach(function(e){e.value=null})}),je.DEFMETHOD("to_assignments",function(e){var n=e.option("reduce_vars"),r=this.definitions.reduce(function(e,r){if(r.value){var i=t(mn,r.name,r.name);e.push(t(Qe,r,{operator:"=",left:i,right:r.value})),n&&(i.definition().fixed=!1)}return e},[]);return 0==r.length?null:Le.from_array(r)}),e(je,function(e,n){return 0==e.definitions.length?t(se,e):e}),e(Ie,function(e,n){var i=e.expression;if(n.option("reduce_vars")&&i instanceof mn){var o=i.definition(),a=i.fixed_value();a instanceof Ae&&(o.fixed=a=t(we,a,a).clone(!0)),a instanceof we&&(i=a,!n.option("unused")||1!=o.references.length||o.scope.uses_arguments&&o.orig[0]instanceof pn||o.scope.uses_eval||n.find_parent(me)!==o.scope||(e.expression=i))}if(n.option("unused")&&i instanceof we&&!i.uses_arguments&&!i.uses_eval){for(var s=0,c=0,l=0,p=e.args.length;l<p;l++){var d=l>=i.argnames.length;if(d||i.argnames[l].__unused){var h=e.args[l].drop_side_effect_free(n);if(h)e.args[s++]=h;else if(!d){e.args[s++]=t(An,e.args[l],{value:0});continue}}else e.args[s++]=e.args[l];c=s}e.args.length=c}if(n.option("unsafe"))if(i instanceof mn&&i.undeclared())switch(i.name){case"Array":if(1!=e.args.length)return t(en,e,{elements:e.args}).optimize(n);break;case"Object":if(0==e.args.length)return t(nn,e,{properties:[]});break;case"String":if(0==e.args.length)return t(wn,e,{value:""});if(e.args.length<=1)return t(Ze,e,{left:e.args[0],operator:"+",right:t(wn,e,{value:""})}).optimize(n);break;case"Number":if(0==e.args.length)return t(An,e,{value:0});if(1==e.args.length)return t(Ge,e,{expression:e.args[0],operator:"+"}).optimize(n);case"Boolean":if(0==e.args.length)return t(Tn,e);if(1==e.args.length)return t(Ge,e,{expression:t(Ge,e,{expression:e.args[0],operator:"!"}),operator:"!"}).optimize(n);break;case"Function":if(0==e.args.length)return t(we,e,{argnames:[],body:[]});if(w(e.args,function(e){return e instanceof wn}))try{var v="(function("+e.args.slice(0,-1).map(function(e){return e.value}).join(",")+"){"+e.args[e.args.length-1].value+"})()",_=U(v);_.figure_out_scope({screw_ie8:n.option("screw_ie8")});var m=new J(n.options);_=_.transform(m),_.figure_out_scope({screw_ie8:n.option("screw_ie8")}),_.mangle_names();var g;try{_.walk(new F(function(e){if(e instanceof be)throw g=e,_}))}catch(e){if(e!==_)throw e}if(!g)return e;var b=g.argnames.map(function(n,r){return t(wn,e.args[r],{value:n.print_to_string()})}),v=W();return ae.prototype._codegen.call(g,g,v),v=v.toString().replace(/^\{|\}$/g,""),b.push(t(wn,e.args[e.args.length-1],{value:v})),e.args=b,e}catch(t){if(!(t instanceof N))throw console.log(t),t;n.warn("Error parsing code passed to new Function [{file}:{line},{col}]",e.args[e.args.length-1].start),n.warn(t.toString())}}else{if(i instanceof Ye&&"toString"==i.property&&0==e.args.length)return t(Ze,e,{left:t(wn,e,{value:""}),operator:"+",right:i.expression}).optimize(n);if(i instanceof Ye&&i.expression instanceof en&&"join"==i.property){var y;if(!(e.args.length>0&&(y=e.args[0].evaluate(n))===e.args[0])){var A=[],E=[];if(i.expression.elements.forEach(function(r){var i=r.evaluate(n);i!==r?E.push(i):(E.length>0&&(A.push(t(wn,e,{value:E.join(y)})),E.length=0),A.push(r))}),E.length>0&&A.push(t(wn,e,{value:E.join(y)})),0==A.length)return t(wn,e,{value:""});if(1==A.length)return A[0].is_string(n)?A[0]:t(Ze,A[0],{operator:"+",left:t(wn,e,{value:""}),right:A[0]});if(""==y){var x;return x=A[0].is_string(n)||A[1].is_string(n)?A.shift():t(wn,e,{value:""}),A.reduce(function(e,n){return t(Ze,n,{operator:"+",left:e,right:n})},x).optimize(n)}var h=e.clone();return h.expression=h.expression.clone(),h.expression.expression=h.expression.expression.clone(),h.expression.expression.elements=A,$(n,e,h)}}else if(i instanceof Ye&&i.expression.is_string(n)&&"charAt"==i.property){var D=e.args[0],k=D?D.evaluate(n):0;if(k!==D)return t(We,i,{expression:i.expression,property:r(0|k,D||i)}).optimize(n)}}if(i instanceof we){if(i.body[0]instanceof De){var C=i.body[0].value;if(!C||C.is_constant()){var b=e.args.concat(C||t(Fn,e));return Le.from_array(b).transform(n)}}if(n.option("side_effects")&&w(i.body,u)){var b=e.args.concat(t(Fn,e));return Le.from_array(b).transform(n)}}if(n.option("drop_console")&&i instanceof Ve){for(var B=i.expression;B.expression;)B=B.expression;if(B instanceof mn&&"console"==B.name&&B.undeclared())return t(Fn,e).optimize(n)}return n.option("negate_iife")&&n.parent()instanceof ie&&f(e)?e.negate(n,!0):e}),e(Ue,function(e,n){if(n.option("unsafe")){var r=e.expression;if(r instanceof mn&&r.undeclared())switch(r.name){case"Object":case"RegExp":case"Function":case"Error":case"Array":return t(Ie,e,e).transform(n)}}return e}),e(Le,function(e,n){if(!n.option("side_effects"))return e;if(e.car=e.car.drop_side_effect_free(n,x(n)),!e.car)return a(n.parent(),e,e.cdr);if(n.option("cascade")){var r;if(e.car instanceof Qe&&!e.car.left.has_side_effects(n)?r=e.car.left:e.car instanceof Je&&("++"==e.car.operator||"--"==e.car.operator)&&(r=e.car.expression),r&&!(r instanceof mn&&r.definition().orig[0]instanceof hn))for(var i,o,s=e.cdr;;){if(s.equivalent_to(r)){var u=e.car instanceof Xe?t(Ge,e.car,{operator:e.car.operator,expression:r}):e.car;return i?(i[o]=u,e.cdr):u}if(s instanceof Ze&&!(s instanceof Qe))if(s.left.is_constant()){if("||"==s.operator||"&&"==s.operator)break;o="right"}else o="left";else{if(!(s instanceof Ie||s instanceof Je&&!j(s.operator)))break;o="expression"}i=s,s=s[o]}}return C(e.cdr,n)?t(Ge,e,{operator:"void",expression:e.car}):e}),Je.DEFMETHOD("lift_sequences",function(e){if(e.option("sequences")&&this.expression instanceof Le){var n=this.expression,t=n.to_array(),r=this.clone();return r.expression=t.pop(),t.push(r),n=Le.from_array(t).transform(e)}return this}),e(Xe,function(e,n){return e.lift_sequences(n)}),e(Ge,function(e,n){var i=e.expression;if("delete"==e.operator&&!(i instanceof mn||i instanceof Ve||i instanceof kn||i instanceof Bn||i instanceof Fn))return i instanceof Le?(i=i.to_array(),i.push(t($n,e)),Le.from_array(i).optimize(n)):t(Le,e,{car:i,cdr:t($n,e)}).optimize(n);var o=e.lift_sequences(n);if(o!==e)return o;if(n.option("side_effects")&&"void"==e.operator)return i=i.drop_side_effect_free(n),i?(e.expression=i,e):t(Fn,e).optimize(n);if(n.option("booleans")&&n.in_boolean_context())switch(e.operator){case"!":if(i instanceof Ge&&"!"==i.operator)return i.expression;i instanceof Ze&&(e=$(n,e,i.negate(n,x(n))));break;case"typeof":return n.warn("Boolean expression always true [{file}:{line},{col}]",e.start),(i instanceof mn?t($n,e):t(Le,e,{car:i,cdr:t($n,e)})).optimize(n)}if("-"==e.operator&&i instanceof Bn&&(i=i.transform(n)),i instanceof Ze&&("+"==e.operator||"-"==e.operator)&&("*"==i.operator||"/"==i.operator||"%"==i.operator))return t(Ze,e,{operator:i.operator,left:t(Ge,i.left,{operator:e.operator,expression:i.left}),right:i.right});if("-"!=e.operator||!(i instanceof An||i instanceof Bn)){var a=e.evaluate(n);if(a!==e)return a=r(a,e).optimize(n),$(n,a,e)}return e}),Ze.DEFMETHOD("lift_sequences",function(e){if(e.option("sequences")){if(this.left instanceof Le){var n=this.left,t=n.to_array(),r=this.clone();return r.left=t.pop(),t.push(r),Le.from_array(t).optimize(e)}if(this.right instanceof Le&&!this.left.has_side_effects(e)){for(var i,o="="==this.operator&&this.left instanceof mn,a=this.right.clone(),n=a;(o||!n.car.has_side_effects(e))&&(i=n,n.cdr instanceof Le);)n=n.cdr=n.cdr.clone();if(i){var r=this.clone();return r.right=i.cdr,i.cdr=r,a.optimize(e)}}}return this});var P=y("== === != !== * & | ^");e(Ze,function(e,n){function i(){return e.left.is_constant()||e.right.is_constant()||!e.left.has_side_effects(n)&&!e.right.has_side_effects(n)}function o(n){if(i()){n&&(e.operator=n);var t=e.left;e.left=e.right,e.right=t}}if(P(e.operator)&&e.right.is_constant()&&!e.left.is_constant()&&(e.left instanceof Ze&&Xn[e.left.operator]>=Xn[e.operator]||o()),e=e.lift_sequences(n),n.option("comparisons"))switch(e.operator){case"===":case"!==":
(e.left.is_string(n)&&e.right.is_string(n)||e.left.is_number(n)&&e.right.is_number(n)||e.left.is_boolean()&&e.right.is_boolean())&&(e.operator=e.operator.substr(0,2));case"==":case"!=":if(e.left instanceof wn&&"undefined"==e.left.value&&e.right instanceof Ge&&"typeof"==e.right.operator){var s=e.right.expression;(s instanceof mn?s.undeclared():s instanceof Ve&&!n.option("screw_ie8"))||(e.right=s,e.left=t(Fn,e.left).optimize(n),2==e.operator.length&&(e.operator+="="))}}if(n.option("booleans")&&"+"==e.operator&&n.in_boolean_context()){var u=e.left.evaluate(n),c=e.right.evaluate(n);if(u&&"string"==typeof u)return n.warn("+ in boolean context always true [{file}:{line},{col}]",e.start),t(Le,e,{car:e.right,cdr:t($n,e)}).optimize(n);if(c&&"string"==typeof c)return n.warn("+ in boolean context always true [{file}:{line},{col}]",e.start),t(Le,e,{car:e.left,cdr:t($n,e)}).optimize(n)}if(n.option("comparisons")&&e.is_boolean()){if(!(n.parent()instanceof Ze)||n.parent()instanceof Qe){var f=t(Ge,e,{operator:"!",expression:e.negate(n,x(n))});e=$(n,e,f)}if(n.option("unsafe_comps"))switch(e.operator){case"<":o(">");break;case"<=":o(">=")}}if("+"==e.operator){if(e.right instanceof wn&&""==e.right.getValue()&&e.left.is_string(n))return e.left;if(e.left instanceof wn&&""==e.left.getValue()&&e.right.is_string(n))return e.right;if(e.left instanceof Ze&&"+"==e.left.operator&&e.left.left instanceof wn&&""==e.left.left.getValue()&&e.right.is_string(n))return e.left=e.left.right,e.transform(n)}if(n.option("evaluate")){switch(e.operator){case"&&":var u=e.left.evaluate(n);if(!u)return n.warn("Condition left of && always false [{file}:{line},{col}]",e.start),a(n.parent(),e,e.left).optimize(n);if(u!==e.left)return n.warn("Condition left of && always true [{file}:{line},{col}]",e.start),a(n.parent(),e,e.right).optimize(n);if(n.option("booleans")&&n.in_boolean_context()){var c=e.right.evaluate(n);if(!c)return n.warn("Boolean && always false [{file}:{line},{col}]",e.start),t(Le,e,{car:e.left,cdr:t(Tn,e)}).optimize(n);if(c!==e.right)return n.warn("Dropping side-effect-free && in boolean context [{file}:{line},{col}]",e.start),e.left.optimize(n)}break;case"||":var u=e.left.evaluate(n);if(!u)return n.warn("Condition left of || always false [{file}:{line},{col}]",e.start),a(n.parent(),e,e.right).optimize(n);if(u!==e.left)return n.warn("Condition left of || always true [{file}:{line},{col}]",e.start),a(n.parent(),e,e.left).optimize(n);if(n.option("booleans")&&n.in_boolean_context()){var c=e.right.evaluate(n);if(!c)return n.warn("Dropping side-effect-free || in boolean context [{file}:{line},{col}]",e.start),e.left.optimize(n);if(c!==e.right)return n.warn("Boolean || always true [{file}:{line},{col}]",e.start),t(Le,e,{car:e.left,cdr:t($n,e)}).optimize(n)}}var l=!0;switch(e.operator){case"+":if(e.left instanceof yn&&e.right instanceof Ze&&"+"==e.right.operator&&e.right.left instanceof yn&&e.right.is_string(n)&&(e=t(Ze,e,{operator:"+",left:t(wn,e.left,{value:""+e.left.getValue()+e.right.left.getValue(),start:e.left.start,end:e.right.left.end}),right:e.right.right})),e.right instanceof yn&&e.left instanceof Ze&&"+"==e.left.operator&&e.left.right instanceof yn&&e.left.is_string(n)&&(e=t(Ze,e,{operator:"+",left:e.left.left,right:t(wn,e.right,{value:""+e.left.right.getValue()+e.right.getValue(),start:e.left.right.start,end:e.right.end})})),e.left instanceof Ze&&"+"==e.left.operator&&e.left.is_string(n)&&e.left.right instanceof yn&&e.right instanceof Ze&&"+"==e.right.operator&&e.right.left instanceof yn&&e.right.is_string(n)&&(e=t(Ze,e,{operator:"+",left:t(Ze,e.left,{operator:"+",left:e.left.left,right:t(wn,e.left.right,{value:""+e.left.right.getValue()+e.right.left.getValue(),start:e.left.right.start,end:e.right.left.end})}),right:e.right.right})),e.right instanceof Ge&&"-"==e.right.operator&&e.left.is_number(n)){e=t(Ze,e,{operator:"-",left:e.left,right:e.right.expression});break}if(e.left instanceof Ge&&"-"==e.left.operator&&i()&&e.right.is_number(n)){e=t(Ze,e,{operator:"-",left:e.right,right:e.left.expression});break}case"*":l=n.option("unsafe_math");case"&":case"|":case"^":if(e.left.is_number(n)&&e.right.is_number(n)&&i()&&!(e.left instanceof Ze&&e.left.operator!=e.operator&&Xn[e.left.operator]>=Xn[e.operator])){var p=t(Ze,e,{operator:e.operator,left:e.right,right:e.left});e=e.right instanceof yn&&!(e.left instanceof yn)?$(n,p,e):$(n,e,p)}l&&e.is_number(n)&&(e.right instanceof Ze&&e.right.operator==e.operator&&(e=t(Ze,e,{operator:e.operator,left:t(Ze,e.left,{operator:e.operator,left:e.left,right:e.right.left,start:e.left.start,end:e.right.left.end}),right:e.right.right})),e.right instanceof yn&&e.left instanceof Ze&&e.left.operator==e.operator&&(e.left.left instanceof yn?e=t(Ze,e,{operator:e.operator,left:t(Ze,e.left,{operator:e.operator,left:e.left.left,right:e.right,start:e.left.left.start,end:e.right.end}),right:e.left.right}):e.left.right instanceof yn&&(e=t(Ze,e,{operator:e.operator,left:t(Ze,e.left,{operator:e.operator,left:e.left.right,right:e.right,start:e.left.right.start,end:e.right.end}),right:e.left.left}))),e.left instanceof Ze&&e.left.operator==e.operator&&e.left.right instanceof yn&&e.right instanceof Ze&&e.right.operator==e.operator&&e.right.left instanceof yn&&(e=t(Ze,e,{operator:e.operator,left:t(Ze,e.left,{operator:e.operator,left:t(Ze,e.left.left,{operator:e.operator,left:e.left.right,right:e.right.left,start:e.left.right.start,end:e.right.left.end}),right:e.left.left}),right:e.right.right})))}}if(e.right instanceof Ze&&e.right.operator==e.operator&&("&&"==e.operator||"||"==e.operator||"+"==e.operator&&(e.right.left.is_string(n)||e.left.is_string(n)&&e.right.right.is_string(n))))return e.left=t(Ze,e.left,{operator:e.operator,left:e.left,right:e.right.left}),e.right=e.right.right,e.transform(n);var d=e.evaluate(n);return d!==e?(d=r(d,e).optimize(n),$(n,d,e)):e}),e(mn,function(e,n){var i=e.resolve_defines(n);if(i)return i.optimize(n);if(n.option("screw_ie8")&&e.undeclared()&&(!e.scope.uses_with||!n.find_parent(_e)))switch(e.name){case"undefined":return t(Fn,e).optimize(n);case"NaN":return t(kn,e).optimize(n);case"Infinity":return t(Bn,e).optimize(n)}if(n.option("evaluate")&&n.option("reduce_vars")){var o=e.definition(),a=e.fixed_value();if(a){if(void 0===o.should_replace){var s=a.evaluate(n);if(s!==a){s=r(s,a);var u=S(s.optimize(n),a).print_to_string().length,c=o.name.length,f=o.references.length,l=o.global||!f?0:(c+2+u)/f;o.should_replace=u<=c+l&&s}else o.should_replace=!1}if(o.should_replace)return S(o.should_replace.optimize(n),a).clone(!0)}}return e}),e(Fn,function(e,r){if(r.option("unsafe")){var i=n(r,"undefined");if(i){var o=t(mn,e,{name:"undefined",scope:i.scope,thedef:i});return o.is_undefined=!0,o}}var a=B(r.self(),r.parent());return a&&z(a,e)?e:t(Ge,e,{operator:"void",expression:t(An,e,{value:0})})}),e(Bn,function(e,r){var i=B(r.self(),r.parent());return i&&z(i,e)?e:!r.option("keep_infinity")||i&&!z(i,e)||n(r,"Infinity")?t(Ze,e,{operator:"/",left:t(An,e,{value:1}),right:t(An,e,{value:0})}):e}),e(kn,function(e,r){var i=B(r.self(),r.parent());return i&&!z(i,e)||n(r,"NaN")?t(Ze,e,{operator:"/",left:t(An,e,{value:0}),right:t(An,e,{value:0})}):e});var R=["+","-","/","*","%",">>","<<",">>>","|","^","&"],I=["*","|","^","&"];e(Qe,function(e,n){return e=e.lift_sequences(n),"="==e.operator&&e.left instanceof mn&&e.right instanceof Ze&&(e.right.left instanceof mn&&e.right.left.name==e.left.name&&i(e.right.operator,R)?(e.operator=e.right.operator+"=",e.right=e.right.right):e.right.right instanceof mn&&e.right.right.name==e.left.name&&i(e.right.operator,I)&&!e.right.left.has_side_effects(n)&&(e.operator=e.right.operator+"=",e.right=e.right.left)),e}),e(Ke,function(e,n){function r(e){return e.is_boolean()?e:t(Ge,e,{operator:"!",expression:e.negate(n)})}function i(e){return e instanceof $n||e instanceof Ge&&"!"==e.operator&&e.expression instanceof yn&&!e.expression.value}function o(e){return e instanceof Tn||e instanceof Ge&&"!"==e.operator&&e.expression instanceof yn&&!!e.expression.value}if(!n.option("conditionals"))return e;if(e.condition instanceof Le){var s=e.condition.car;return e.condition=e.condition.cdr,Le.cons(s,e)}var u=e.condition.evaluate(n);if(u!==e.condition)return u?(n.warn("Condition always true [{file}:{line},{col}]",e.start),a(n.parent(),e,e.consequent)):(n.warn("Condition always false [{file}:{line},{col}]",e.start),a(n.parent(),e,e.alternative));var c=u.negate(n,x(n));$(n,u,c)===c&&(e=t(Ke,e,{condition:c,consequent:e.alternative,alternative:e.consequent}));var f=e.condition,l=e.consequent,p=e.alternative;return f instanceof mn&&l instanceof mn&&f.definition()===l.definition()?t(Ze,e,{operator:"||",left:f,right:p}):l instanceof Qe&&p instanceof Qe&&l.operator==p.operator&&l.left.equivalent_to(p.left)&&(!e.condition.has_side_effects(n)||"="==l.operator&&!l.left.has_side_effects(n))?t(Qe,e,{operator:l.operator,left:l.left,right:t(Ke,e,{condition:e.condition,consequent:l.right,alternative:p.right})}):l instanceof Ie&&p.TYPE===l.TYPE&&1==l.args.length&&1==p.args.length&&l.expression.equivalent_to(p.expression)&&!l.expression.has_side_effects(n)?(l.args[0]=t(Ke,e,{condition:e.condition,consequent:l.args[0],alternative:p.args[0]}),l):l instanceof Ke&&l.alternative.equivalent_to(p)?t(Ke,e,{condition:t(Ze,e,{left:e.condition,operator:"&&",right:l.condition}),consequent:l.consequent,alternative:p}):l.equivalent_to(p)?t(Le,e,{car:e.condition,cdr:l}).optimize(n):i(e.consequent)?o(e.alternative)?r(e.condition):t(Ze,e,{operator:"||",left:r(e.condition),right:e.alternative}):o(e.consequent)?i(e.alternative)?r(e.condition.negate(n)):t(Ze,e,{operator:"&&",left:r(e.condition.negate(n)),right:e.alternative}):i(e.alternative)?t(Ze,e,{operator:"||",left:r(e.condition.negate(n)),right:e.consequent}):o(e.alternative)?t(Ze,e,{operator:"&&",left:r(e.condition),right:e.consequent}):e}),e(Sn,function(e,n){if(n.option("booleans")){var r=n.parent();return r instanceof Ze&&("=="==r.operator||"!="==r.operator)?(n.warn("Non-strict equality against boolean: {operator} {value} [{file}:{line},{col}]",{operator:r.operator,value:e.value,file:r.start.file,line:r.start.line,col:r.start.col}),t(An,e,{value:+e.value})):t(Ge,e,{operator:"!",expression:t(An,e,{value:1-e.value})})}return e}),e(We,function(e,n){var i=e.property;if(i instanceof wn&&n.option("properties")){if(i=i.getValue(),zn(i)?n.option("screw_ie8"):H(i))return t(Ye,e,{expression:e.expression,property:i}).optimize(n);var o=parseFloat(i);isNaN(o)||o.toString()!=i||(e.property=t(An,e.property,{value:o}))}var a=e.evaluate(n);return a!==e?(a=r(a,e).optimize(n),$(n,a,e)):e}),e(Ye,function(e,n){var i=e.resolve_defines(n);if(i)return i.optimize(n);var o=e.property;if(zn(o)&&!n.option("screw_ie8"))return t(We,e,{expression:e.expression,property:t(wn,e,{value:o})}).optimize(n);if(n.option("unsafe_proto")&&e.expression instanceof Ye&&"prototype"==e.expression.property){var a=e.expression.expression;if(a instanceof mn&&a.undeclared())switch(a.name){case"Array":e.expression=t(en,e.expression,{elements:[]});break;case"Object":e.expression=t(nn,e.expression,{properties:[]});break;case"String":e.expression=t(wn,e.expression,{value:""})}}var s=e.evaluate(n);return s!==e?(s=r(s,e).optimize(n),$(n,s,e)):e}),e(en,M),e(nn,M),e(En,M),e(De,function(e,n){return e.value&&C(e.value,n)&&(e.value=null),e}),e(Re,function(e,n){var t=n.option("global_defs");return t&&E(t,e.name.name)&&n.warn("global_defs "+e.name.name+" redefined [{file}:{line},{col}]",e.start),e})}(),function(){function n(e){if("Literal"==e.type)return null!=e.raw?e.raw:e.value+""}function t(e){var t=e.loc,r=t&&t.start,i=e.range;return new Q({file:t&&t.source,line:r&&r.line,col:r&&r.column,pos:i?i[0]:e.start,endline:r&&r.line,endcol:r&&r.column,endpos:i?i[0]:e.start,raw:n(e)})}function r(e){var t=e.loc,r=t&&t.end,i=e.range;return new Q({file:t&&t.source,line:r&&r.line,col:r&&r.column,pos:i?i[1]:e.end,endline:r&&r.line,endcol:r&&r.column,endpos:i?i[1]:e.end,raw:n(e)})}function i(n,i,a){var f="function From_Moz_"+n+"(M){\n";f+="return new U2."+i.name+"({\nstart: my_start_token(M),\nend: my_end_token(M)";var p="function To_Moz_"+n+"(M){\n";p+="return {\ntype: "+JSON.stringify(n),a&&a.split(/\s*,\s*/).forEach(function(e){var n=/([a-z0-9$_]+)(=|@|>|%)([a-z0-9$_]+)/i.exec(e);if(!n)throw new Error("Can't understand property map: "+e);var t=n[1],r=n[2],i=n[3];switch(f+=",\n"+i+": ",p+=",\n"+t+": ",r){case"@":f+="M."+t+".map(from_moz)",p+="M."+i+".map(to_moz)";break;case">":f+="from_moz(M."+t+")",p+="to_moz(M."+i+")";break;case"=":f+="M."+t,p+="M."+i;break;case"%":f+="from_moz(M."+t+").body",p+="to_moz_block(M)";break;default:throw new Error("Can't understand operator in propmap: "+e)}}),f+="\n})\n}",p+="\n}\n}",f=new Function("U2","my_start_token","my_end_token","from_moz","return("+f+")")(e,t,r,o),p=new Function("to_moz","to_moz_block","return("+p+")")(u,c),l[n]=f,s(i,p)}function o(e){p.push(e);var n=null!=e?l[e.type](e):null;return p.pop(),n}function a(e,n,t){var r=e.start,i=e.end;return null!=r.pos&&null!=i.endpos&&(n.range=[r.pos,i.endpos]),r.line&&(n.loc={start:{line:r.line,column:r.col},end:i.endline?{line:i.endline,column:i.endcol}:null},r.file&&(n.loc.source=r.file)),n}function s(e,n){e.DEFMETHOD("to_mozilla_ast",function(){return a(this,n(this))})}function u(e){return null!=e?e.to_mozilla_ast():null}function c(e){return{type:"BlockStatement",body:e.body.map(u)}}var f=function(e){for(var n=!0,t=0;t<e.length;t++)n&&e[t]instanceof ne&&e[t].body instanceof wn?e[t]=new re({start:e[t].start,end:e[t].end,value:e[t].body.value}):!n||e[t]instanceof ne&&e[t].body instanceof wn||(n=!1);return e},l={Program:function(e){return new ge({start:t(e),end:r(e),body:f(e.body.map(o))})},FunctionDeclaration:function(e){return new Ae({start:t(e),end:r(e),name:o(e.id),argnames:e.params.map(o),body:f(o(e.body).body)})},FunctionExpression:function(e){return new we({start:t(e),end:r(e),name:o(e.id),argnames:e.params.map(o),body:f(o(e.body).body)})},ExpressionStatement:function(e){return new ie({start:t(e),end:r(e),body:o(e.expression)})},TryStatement:function(e){var n=e.handlers||[e.handler];if(n.length>1||e.guardedHandlers&&e.guardedHandlers.length)throw new Error("Multiple catch clauses are not supported.");return new ze({start:t(e),end:r(e),body:o(e.block).body,bcatch:o(n[0]),bfinally:e.finalizer?new He(o(e.finalizer)):null})},Property:function(e){var n=e.key,i="Identifier"==n.type?n.name:n.value,a={start:t(n),end:r(e.value),key:i,value:o(e.value)};switch(e.kind){case"init":return new rn(a);case"set":return a.value.name=o(n),new on(a);case"get":return a.value.name=o(n),new an(a)}},ArrayExpression:function(e){return new en({start:t(e),end:r(e),elements:e.elements.map(function(e){return null===e?new Cn:o(e)})})},ObjectExpression:function(e){return new nn({start:t(e),end:r(e),properties:e.properties.map(function(e){return e.type="Property",o(e)})})},SequenceExpression:function(e){return Le.from_array(e.expressions.map(o))},MemberExpression:function(e){return new(e.computed?We:Ye)({start:t(e),end:r(e),property:e.computed?o(e.property):e.property.name,expression:o(e.object)})},SwitchCase:function(e){return new(e.test?qe:Oe)({start:t(e),end:r(e),expression:o(e.test),body:e.consequent.map(o)})},VariableDeclaration:function(e){return new("const"===e.kind?Pe:Ne)({start:t(e),end:r(e),definitions:e.declarations.map(o)})},Literal:function(e){var n=e.value,i={start:t(e),end:r(e)};if(null===n)return new Dn(i);switch(typeof n){case"string":return i.value=n,new wn(i);case"number":return i.value=n,new An(i);case"boolean":return new(n?$n:Tn)(i);default:var o=e.regex;return o&&o.pattern?i.value=new RegExp(o.pattern,o.flags).toString():i.value=e.regex&&e.raw?e.raw:n,new En(i)}},Identifier:function(e){var n=p[p.length-2];return new("LabeledStatement"==n.type?_n:"VariableDeclarator"==n.type&&n.id===e?"const"==n.kind?ln:fn:"FunctionExpression"==n.type?n.id===e?hn:pn:"FunctionDeclaration"==n.type?n.id===e?dn:pn:"CatchClause"==n.type?vn:"BreakStatement"==n.type||"ContinueStatement"==n.type?gn:mn)({start:t(e),end:r(e),name:e.name})}};l.UpdateExpression=l.UnaryExpression=function(e){return new(("prefix"in e?e.prefix:"UnaryExpression"==e.type)?Ge:Xe)({start:t(e),end:r(e),operator:e.operator,expression:o(e.argument)})},i("EmptyStatement",se),i("BlockStatement",ae,"body@body"),i("IfStatement",Se,"test>condition, consequent>body, alternate>alternative"),i("LabeledStatement",ce,"label>label, body>body"),i("BreakStatement",Ce,"label>label"),i("ContinueStatement",Be,"label>label"),i("WithStatement",_e,"object>expression, body>body"),i("SwitchStatement",Te,"discriminant>expression, cases@body"),i("ReturnStatement",De,"argument>value"),i("ThrowStatement",ke,"argument>value"),i("WhileStatement",de,"test>condition, body>body"),i("DoWhileStatement",pe,"test>condition, body>body"),i("ForStatement",he,"init>init, test>condition, update>step, body>body"),i("ForInStatement",ve,"left>init, right>object, body>body"),i("DebuggerStatement",te),i("VariableDeclarator",Re,"id>name, init>value"),i("CatchClause",Me,"param>argname, body%body"),i("ThisExpression",bn),i("BinaryExpression",Ze,"operator=operator, left>left, right>right"),i("LogicalExpression",Ze,"operator=operator, left>left, right>right"),i("AssignmentExpression",Qe,"operator=operator, left>left, right>right"),i("ConditionalExpression",Ke,"test>condition, consequent>consequent, alternate>alternative"),i("NewExpression",Ue,"callee>expression, arguments@args"),i("CallExpression",Ie,"callee>expression, arguments@args"),s(ge,function(e){return{type:"Program",body:e.body.map(u)}}),s(Ae,function(e){return{type:"FunctionDeclaration",id:u(e.name),params:e.argnames.map(u),body:c(e)}}),s(we,function(e){return{type:"FunctionExpression",id:u(e.name),params:e.argnames.map(u),body:c(e)}}),s(re,function(e){return{type:"ExpressionStatement",expression:{type:"Literal",value:e.value}}}),s(ie,function(e){return{type:"ExpressionStatement",expression:u(e.body)}}),s($e,function(e){return{type:"SwitchCase",test:u(e.expression),consequent:e.body.map(u)}}),s(ze,function(e){return{type:"TryStatement",block:c(e),handler:u(e.bcatch),guardedHandlers:[],finalizer:u(e.bfinally)}}),s(Me,function(e){return{type:"CatchClause",param:u(e.argname),guard:null,body:c(e)}}),s(je,function(e){return{type:"VariableDeclaration",kind:e instanceof Pe?"const":"var",declarations:e.definitions.map(u)}}),s(Le,function(e){return{type:"SequenceExpression",expressions:e.to_array().map(u)}}),s(Ve,function(e){var n=e instanceof We;return{type:"MemberExpression",object:u(e.expression),computed:n,property:n?u(e.property):{type:"Identifier",name:e.property}}}),s(Je,function(e){return{type:"++"==e.operator||"--"==e.operator?"UpdateExpression":"UnaryExpression",operator:e.operator,prefix:e instanceof Ge,argument:u(e.expression)}}),s(Ze,function(e){return{type:"&&"==e.operator||"||"==e.operator?"LogicalExpression":"BinaryExpression",left:u(e.left),operator:e.operator,right:u(e.right)}}),s(en,function(e){return{type:"ArrayExpression",elements:e.elements.map(u)}}),s(nn,function(e){return{type:"ObjectExpression",properties:e.properties.map(u)}}),s(tn,function(e){var n,t=q(e.key)?{type:"Identifier",name:e.key}:{type:"Literal",value:e.key};return e instanceof rn?n="init":e instanceof an?n="get":e instanceof on&&(n="set"),{type:"Property",kind:n,key:t,value:u(e.value)}}),s(sn,function(e){var n=e.definition();return{type:"Identifier",name:n?n.mangled_name||n.name:e.name}}),s(En,function(e){var n=e.value;return{type:"Literal",value:n,raw:n.toString(),regex:{pattern:n.source,flags:n.toString().match(/[gimuy]*$/)[0]}}}),s(yn,function(e){var n=e.value;return"number"==typeof n&&(n<0||0===n&&1/n<0)?{type:"UnaryExpression",operator:"-",prefix:!0,argument:{type:"Literal",value:-n,raw:e.start.raw}}:{type:"Literal",value:n,raw:e.start.raw}}),s(xn,function(e){return{type:"Identifier",name:String(e.value)}}),Sn.DEFMETHOD("to_mozilla_ast",yn.prototype.to_mozilla_ast),Dn.DEFMETHOD("to_mozilla_ast",yn.prototype.to_mozilla_ast),Cn.DEFMETHOD("to_mozilla_ast",function(){return null}),oe.DEFMETHOD("to_mozilla_ast",ae.prototype.to_mozilla_ast),be.DEFMETHOD("to_mozilla_ast",we.prototype.to_mozilla_ast);var p=null;ee.from_mozilla_ast=function(e){var n=p;p=[];var t=o(e);return p=n,t}}(),e.Compressor=J,e.DefaultsError=u,e.Dictionary=A,e.JS_Parse_Error=N,e.MAP=K,e.OutputStream=W,e.SourceMap=G,e.TreeTransformer=L,e.TreeWalker=F,e.base54=Kn,e.defaults=c,e.mangle_properties=Z,e.merge=f,e.parse=U,e.push_uniq=_,e.string_template=m,e.tokenizer=I,e.is_identifier=q,e.SymbolDef=V,n.UglifyJS=e}({},function(){return this}());